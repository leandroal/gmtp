\chapter{Métodos, Simulações e Experimentos}
\label{cap:metodosexperimentos}

% \begin{center}
%     \begin{minipage}{300pt}
%     \small
%     \centering
% 	``Sabemos que uma conclusão definitiva não pode ser feita baseando-se nas características de todos os sistemas, mas é possível obter conclusões probabilísticas baseando-se num intervalo onde estarão as características da maioria dos sistemas.'' (Raj Jain, em \emph{A Arte da Análise de Desempenho em Sistemas de Computação})
%     \end{minipage}
% \end{center}

\vspace{1cm}

Neste capítulo é descritos o método estatístico utilizado para a
obtenção das métricas estabelecidas para analisar o desempenho do
protocolo \mudccps e as metodologias adotadas para obtenção dos valores finais
para cada uma das métricas obtidas.

Para isto, apresenta-se um método estatístico baseado na teoria da
probabilidade, que possibilita calcular a quantidade de ensaios necessários para
um determinado tratamento de simulação e assim obter um nível de confiança de
\ut{95}{\%} nos valores apresentados. Com este método, foi possível realizar
comparações quanto ao desempenho do \mudccps frente a outros protocolos
tradicionais, como o DCCP e o TCP. Tais discussões comparativas são
apresentadas no Capítulo~\ref{cap:analisedesemp}.

% Para entender melhor os conceitos apresentados a seguir, antes é necessário
% entender algumas nomenclaturas utilizadas universalmente em pesquisas
% científicas e portanto também utilizadas neste trabalho. Em pesquisas
% científica, um tratamento é um cenário de simulação definido por uma
% combinação de fatores. Um fator é um parâmetro de configuração de um tratamento,
% por exemplo a largura de banda ou a taxa de perda de pacotes configurada para
% um determinado canal de transmissão simulado. Em cada tratamento deseja-se
% estudar as variáveis, ou também chamadas de métricas, as quais são informações
% coletadas e geradas através da execução de um tratamento, por exemplo, a taxa de
% transmissão obtida por um determinado protocolo. Por fim, para cada execução de
% um tratamento dá-se o nome de ensaio.

\section{Tratamentos}
\label{sec:paramexp}

Neste trabalho, considerou-se a análise do protocolo \mudccps em confronto com o protocolo
DCCP e o TCP.

De acordo com os objetivos deste trabalho, considera-se desnecessária uma
análise de desempenho do \mudccps em confronto com protocolos tradicionais como
o UDP. Isto porque em diversos trabalhos anteriores, inclusive na dissertação de
mestrado do autor desta proposta de tese~\cite{leandro-master-2008},
já foram apresentadas avaliações comparativas entre o DCCP, o TCP e o UDP. No
estado atual, procura-se avaliar o comportamento do \mudccps com relação a sua
capacidade de escalabilidade diante de grandes quantidades de nós receptores e
de sua equidade diante de múltiplos fluxos de dados. Por este motivo,
descartou-se a necessidade de avaliar o desempenho do \mudccps em confronto
com o UDP, uma vez que este último não implementa qualquer solução para controle
de congestionamento, compartilhamento de conexão etc.

Para os tratamentos que apresentam resultados do confronto entre o protocolo
\mudccps e o DCCP, cujo principal objetivo é apresentar a capacidade de
escalabilidade de ambos os protocolos, as simulações foram executadas de forma
isolada, primeiramente o DCCP e em seguida o \mudccp.

O tempo de duração da execução de cada ensaio foi de \ut{400}{s}, onde cada
ensaio foi repetido a quantidade de vezes necessárias até atingir um intervalo
de confiança de \ut{95}{\%}, de acordo com as definições estabelecidas na
Seção~\ref{sec:metestat}.

% Um outro ponto considerado foi com relação ao momento de iniciar cada fluxo. Em
% se tratando das transmissão TCP, em qualquer tratamento os fluxos TCP foram
% iniciados primeiro e isoladamente até os \ut{50}{s} iniciais do ensaio.
% Após esse tempo, fluxos \mudccps foram iniciados. O objetivo para tal
% procedimento foi analisar qualquer impacto gerado pelo \mudccps em
% relação a um fluxo de dados TCP.

Definiu-se dois tratamentos, um com confrontos \mudccps vs. DCCP vs. TCP
(Tratamento 1) e o outro com confrontos entre \mudccps vs. DCCP (Tratamento 2).
O objetivo do Tratamento 1 é averiguar a capacidade de convergência e
equidade dos fluxos transmitidos utilizando o \mudccps analizando a vazão
obtida por esses fluxos. Por outro lado, o objetivo para o Tratamento 2 é
averiguar a escalabilidade do \mudccps no que diz respeito a quantidade de nós
receptores interessados em um mesmo fluxo de dados transmitido por um nó
servidor. Esta avaliação foi realizada aumentando-se a quantidade de nós
receptores gradativamente em uma transmissão de vídeo \mys, coletando-se
valores para as métricas de vazão, carga de dados transmitida e perda de
pacotes, atraso e qualidade do vídeo transmitido. A metodologia adotada neste
trabalho para obtenção de cada uma das métricas mencionadas anteriormente será
explicada na Seção~\ref{sec:metrescdevexp}.

Os Tratamentos $1$ e $2$ foram executados em simulações de rede
no NS-2~\cite{netsimulator2} cuja topologia da rede foi definida como uma árvore
binária completa, segundo a Figura~\ref{fig:topologia_rede_metodo_experimento}.
Além disso, alguns fatores foram pré-definidos e são descritos a seguir.

\begin{figure}[ht]
\begin{center}
\includegraphics[scale=.7]{imgs/topologia.pdf}
\end{center}
\vspace{-0.5cm}
\caption[Topologia da rede definida para as simulações com \mudccp, DCCP e
TCP]{Topologia da rede definida para as simulações realizadas. Cada
rede é representada por um roteador e com 10 nós em cada rede.}
\label{fig:topologia_rede_metodo_experimento}
\end{figure}

\begin{itemize}
\item Número de computadores receptores por rede: 10
\item Largura de banda da rede local: \ut{100}{Mbps}
\item Latência da rede local: \ut{1}{ms}
\item Largura de banda do backbone: \ut{100}{Mbps}
\item Latência do backbone: \ut{5}{ms}
\item Tamanho da fila dos roteadores do backbone: \ut{3000}{}pacotes
\item Duração da simulação: \ut{400}{s}
\end{itemize}

De acordo com a topologia definida, cada nó da árvore representou um roteador,
cada um com $10$ nós receptores TCP, DCCP e/ou \mudccps conectados a
ele. Para o caso do Tratamento 2, os ensaios foram executados à medida em
que se aumentava o nível da árvore. Por exemplo, $r$ ensaios foram
executados para $10$ nós receptores e $1$ roteador, pois o nível da árvore
\textit{L} foi igual a $0$ (zero); em seguida $r$ outros ensaios foram
executados utilizando-se $30$ nós receptores e $3$ roteadores, pois L=1; em
seguida, outros $r$ ensaios foram executados utilizando-se $70$ nós receptores e
$7$ roteadores, pois L=2; e assim por diante até L=9, quando utilizou-se
$10.230$ nós receptores e $1.023$ roteadores. Deve-se utilizar $n=2^{L+1}-1$
para se obter a quantidade \textit{n} de roteadores dado um nível \textit{L} da
topologia de rede utilizada.

Os fluxos de dados foram transmitidos da seguinte forma: um nó localizado na
raiz da árvore transmitiu o mesmo conteúdo multimídia para todos os outros nós
conectados à rede, simulando uma típica transmissão multimídia \mys\space e um
tráfego de comportamento equivalente a um vídeo MPEG-2.

\section{Métricas Selecionadas e Métricas Derivadas}
\label{sec:metrescdevexp}

Com relação aos tratamentos que envolveram transmissões de fluxos de dados dos
protocolos TCP e \mudccp, foi estudada apenas a métrica de vazão, ao passo que
tratamentos que envolveram a análise de desempenho do \mudccps com relação do
protocolo DCCP, foram analisadas as métricas de vazão, perda de pacote e a
latência, que através desta última foi possível calcular o \emph{jitter} médio
para uma determinada transmissão. Além disso, atráves da vazão e da quantidade
de pacotes perdidos, pode-se obter a carga efetiva de dados transmitidos.

Para cada métrica selecionada, foram coletados seus valores instantâneos e para
cada uma delas algumas considerações são discutidas a seguir.

\subsection{Vazão Média, Carga Efetiva Média, Latência Média e Jitter}
\label{subsec:vazcaglat}

Para um determinado tratamento, a média final da vazão e da carga efetiva
transmitida pelo TCP foi obtida através da média aritmética das médias das
vazões obtidas em cada ensaio \textit{r}, ou seja, através das
Equação~\ref{eq:vazaomediaTCP} e~\ref{eq:cargamediaTCP}, onde \textit{n}
é o total de ensaios de um determinado tratamento. Assim, temos:

\begin{equation}
\mu_{vazaotcp} = \frac{\sum_{r=1}^{n} \fmtvar{vazão\_média}_{r}}{n}
\label{eq:vazaomediaTCP}
\end{equation}

\begin{equation}
\mu_{cargatcp} = \frac{\sum_{r=1}^{n} \fmtvar{carga\_média}_{r}}{n}
\label{eq:cargamediaTCP}
\end{equation}

No entanto, para obter as médias da vazão e carga efetiva dos fluxos \mudccp, o
procedimento foi um pouco diferente. Considerando que os fluxos \mudccps foram
sempre iniciados \ut{50}{s} após o fluxo TCP, é preciso definir um mecanismo que
não penalize \mudccp, já que eles deixaram de transmitir por \ut{50}{s}. Assim,
dado que:

\begin{equation*}
\mu_{\fmtvar{vazão}\lmudccp} = \frac{\sum_{r=1}^{n}
\fmtvar{vazão\_média}_{r}}{n}
\label{eq:vazaomediaUDDC}
\end{equation*}

\noindent onde $\fmtvar{vazão\_média}_{r}$ é obtida através da média aritmédia
das vazões em cada segundo de cada ensaio, tem-se que a vazão para os fluxos do
protocolo \mudccps é obtida através da Equação~\ref{eq:vazaomediafinalUDDC}.

\begin{equation}
\mu_{vazao-final-\mudccp)} = \mu_{\fmtvar{vazão}\lmudccp} + S \times
(\frac{\mu_{\fmtvar{vazão}\lmudccp}}{T})
\label{eq:vazaomediafinalUDDC}
\end{equation}

Onde,

\begin{itemize}

 \item $S$, o tempo de atraso para iniciar os fluxos UDP ou DCCP
($S=\ut{50}{s}$);

 \item $T$, o tempo total do ensaio ($T=\ut{400}{s}$).

\end{itemize}

Assim, as médias são normalizadas para não penalizar nenhum dos protocolos, com
base na Equação~\ref{eq:vazaomediafinalUDDC}.

De forma equivalente, pode-se obter a carga média efetivamente transmitida e da
latência média. Note que para o confronto \mudccps $\times$ DCCP, a vazão
média e carga média são obtidas através das Equações~\ref{eq:vazaomediaTCP}
e~\ref{eq:cargamediaTCP}, respectivamente.

\subsubsection*{Jitter}

O cálculo para obter o valor médio do \emph{jitter} para um fluxo transmitido é
bastante similar ao cálculo da vazão média. Este valor pode ser obtido através
da Equação~\ref{eq:jittermediofinalUDDC}. Esta equação foi obtida da seguinte
forma:

\begin{equation}
\mu_{\fmtvar{jitter-parcial-\lmudccp}} = \frac{\sum_{r=1}^{n}
\fmtvar{jitter\_médio}_{r}}{n}
\label{eq:jittermediaUDDC}
\end{equation}

onde,

\begin{equation*}
\fmtvar{jitter\_médio}_{r} = \frac{\sum_{k=1}^{Q} V_k}{Q}
\label{eq:latenciamediarUDDC}
\end{equation*}

Logo,

\begin{equation}
\mu_{\fmtvar{jitter-final-\lmudccp}} = \mu_{\fmtvar{jitter-parcial-\lmudccp}}
+ S \times (\frac{\mu_{\fmtvar{jitter-parcial-\lmudccp}}}{T})
\label{eq:jittermediofinalUDDC}
\end{equation}

Sendo,

\begin{itemize}

 \item $Q$, quantidade de intervalos ($Q = T - 1$) entre cada medição do
ensaio, ou seja, entre dois segundos quaisquer consecutivos;

 \item $V$, valor da variação do atraso entre pacotes de um mesmo fluxo, por
exemplo para $\fmtvar{instante}_1 = \ut{10,3}{ms}$ e $\fmtvar{instante}_2 =
\ut{11,2}{ms}$, $V = \ut{0,9}{ms}$;

 \item $T$, o tempo total do ensaio ($T=\ut{400}{s}$).

\end{itemize}

\section{Metodologia Estatística para o Cálculo Final das Métricas Estudadas}
\label{sec:metestat}

Os resultados apresentados neste trabalho, por exemplo, para determinar que um
protocolo obteve melhor desempenho que outro em termos da vazão média, foram
baseados em amostras dos dados coletados em cada ensaio de um tratamento. A
metodologia adotada baseia-se no conceito de intervalo de
confiança~\cite{jain1991}, considerando $\rho = \ut{95}{\%}$ (nível de
confiança) e portanto $\alpha = \ut{5}{\%}$ (nível de significância, ou erro).

\subsubsection*{Determinando o Intervalo de Confiança para $\rho = \ut{95}{\%}$}
\label{subsubsec:interconf}

O princípio do intervalo de confiança é baseado no fato de que é impossível
determinar uma média perfeita $\mu$ para uma população de infinitas amostras N,
considerando um número finito $n$ de amostras \{$x_1, ..., x_n$\}. Porém, em
termos probabilísticos é possível determinar um intervalo em que $\mu$ estará
dentro dele com probabilidade igual a $\rho$ e que estará fora dele com
probabilidade igual a $\alpha$.

Para determinar o valor mínimo $c_1$ e um valor máximo $c_2$ deste intervalo,
chamado de intervalo de confiança, considera-se uma probabilidade $1-\alpha$,
tal que o valor $\mu$ esteja dentro desde intervalo de confiança, para $n$
ensaios de um determinado tratamento. Assim, temos a seguinte
relação:

\begin{equation}
Probabilidade\{c_1 \leq \mu \leq c_2\} = 1 - \alpha
\label{eq:prob}
\end{equation}

onde,

\begin{itemize}

 \item ($c_1$, $c_2$) é o intervalo de confiança;

 \item $\alpha$ é o nível de significância, expresso como uma fração e
tipicamente perto de zero, por exemplo, $0,05$ ou $0,1$;

 \item ($1-\alpha$) é o coeficiente de confiança; e

 \item $\rho$ = 100 * ($1-\alpha$), é o nível de confiança, tradicionalmente
expresso como porcentagem e tipicamente perto de \ut{100}{\%}, por exemplo,
\ut{90}{\%} ou \ut{95}{\%}.
\end{itemize}

% http://omnis.if.ufrj.br/~srsouza/mcf1/limitc/limitc.html
% http://pt.wikipedia.org/wiki/Distribui%C3%A7%C3%A3o_normal
%http://pt.wikipedia.org/wiki/Abraham_de_Moivre

Assim, através do \emph{Teorema do Limite Central}\footnote{Teorema do Limite
Central: expressa o fato de que qualquer soma de muitas variáveis aleatórias
independentes e com mesma distribuição de probabilidade tende a distribuição
normal.}~\cite{jain1991}, se um conjunto de amostras $\{x_1, ..., x_n\}$ são
independentes, tem uma média $\bar{x}$ e pertencem a uma mesma população N, com
média $\mu$ e desvio padrão $\sigma$, então a média das amostras tende a
distribuição normal com $\bar{x} = \mu$ e desvio padrão $\sigma/\sqrt{n}$:

\begin{equation}
\bar{x} \simeq N (\mu, \frac{\sigma}{\sqrt{n}})
\label{eq:limitecentral}
\end{equation}

Então, tendo como base a relação \ref{eq:prob} e o \emph{Teorema do Limite
Central} (\ref{eq:limitecentral}), obtem-se o intervalo de confiança $(c_1,
c_2)$ para $\rho = 95\%$ e $\alpha = 0.05$ da seguinte forma:

\begin{equation}
(\mu - z_{1-\alpha/2} \times \frac{s}{\sqrt{n}} \textbf{,} \mu + z_{1-\alpha/2} \times \frac{s}{\sqrt{n}})
\label{eq:intervaloconfianca}
\end{equation}

onde,

\begin{itemize}

 \item $\mu$ é a média para $n$ ensaios;

 \item $z_{1-\alpha/2}$ é igual a $1.96$. Esse valor determina \ut{95}{\%} para
o nível de confiança, como definido na Tabela A.2, do Apêndice A, da
referência~\cite{jain1991};

 \item $n$ é igual ao número de ensaios; e

 \item $s$ é o desvio padrão das médias para as $n$ ensaios.
\end{itemize}

Com relação ao valor $1.96$ para o termo $z_{1-\alpha/2}$, também chamado de
quantil, este é baseado no \emph{Teorema do Limite Central} e por ser
freqüentemente utilizado, encontra-se na tabela de \emph{Quantis da Unidade de
Distribuição Normal}. Esta tabela pode ser encontrada no apêndice A, Tabela A.2,
da referência~\cite{jain1991}. Para determinar este valor, temos:

\begin{equation}
z_{1-\alpha/2} = (1 - 0.05)/2 = 0.975
\label{eq:calcp}
\end{equation}

O valor correspondente ao resultado da Equação~\ref{eq:calcp}, que será o valor
da variável $z$, é igual a $1.96$, segundo a tabela \emph{Quantis da Unidade de
Distribuição Normal}.

Portanto, baseando-se nos intervalos de confiança para cada média das métricas
calculadas de acordo com a Seção~\ref{subsec:vazcaglat}, é possível realizar
comparações com estes valores segundo o tratamento realizado para
\ut{95}{\%} de confiança com \ut{5}{\%} de erro.

\subsubsection*{Determinando o Valor de $n$ para obter $\rho = \ut{95}{\%}$}

O nível de confiança depende da quantidade $n$ de amostras coletadas para um
dado tratamento. Assim, quanto maior o valor de $n$, maior será o nível de
confiança. Entretanto, obter uma quantidade grande de amostras exige mais
esforço e tempo. Portanto, é importante definir o valor de $n$ de tal forma que
consiga-se poupar esforço e tempo, porém mantendo o nível de confiança desejado,
ou seja, $\rho = \ut{95}{\%}$.

Para iniciar o processo, utilizamos uma quantidade pequena $n_{base} = 3$ de
amostras preliminares, por exemplo, $3$ valores da vazão para um determinado
fluxo transmitido. O objetivo é obter um valor alto para a variância, a qual é
utilizada para determinar o valor de $n$ ensaios necessárias para \ut{95}{\%}
de nível de confiança.

Como vimos através da relação~\ref{eq:intervaloconfianca}, temos que o
intervalo de confiança para uma quantidade $n$ de amostras é defindo da seguinte
forma:

\begin{equation}
\mu \pm z \times \frac{s}{\sqrt{n}}
\label{eq:intervaloconfiancaresumo}
\end{equation}

Assim, para um nível de confiança $\rho = \ut{95}{\%}$ e $\alpha = 0.05$, o
intervalo de confiança é:

\begin{equation}
%z_{1-0.05} \times \frac{s}{\sqrt{n}}
(\mu(1-0.05) \textbf{,} \mu(1+0.05))
\label{eq:intervaloconfiancaext}
\end{equation}

Então, igualando os intervalos de confiança~\ref{eq:intervaloconfiancaext} ao
intervalo de confiança~\ref{eq:intervaloconfiancaresumo} (geral), obtemos a
Equação~\ref{eq:intervaloconfiancaigual}.

\begin{equation}
\mu \pm z \times \frac{s}{\sqrt{n}} = \mu (1 \pm 0.05)
\label{eq:intervaloconfiancaigual}
\end{equation}

Portanto, organizando a expressão para isolar a variável $n$, para
cada tratamento, foram executados $n$ ensaios, já contando com os $3$
ensaios iniciais ($n_{base}$), através da Equação~\ref{eq:valorfinaln}, para um
nível de confiança $\rho = \ut{95}{\%}$, o que implica em $z = 1.96$ (a partir
da Equação~\ref{eq:calcp}).

\begin{equation}
n = (\frac{1.96 \times s}{0.05 \times \mu}) ^ 2
\label{eq:valorfinaln}
\end{equation}

% \section{Metodologia para Comparação da Qualidade de Vídeo}
%
% O método escolhido para realizar a comparação da qualidade de vídeo transmitido
% dentro do simulador foi o PSNR (\textit{Peak Signal to Noise
% Ratio})~\cite{Webster93anobjective}.
%
% O PSNR representa a relação sinal ruído em função do erro quadrático médio, o
% MSE (\textit{Mean Squared Error}). Quanto mais próxima a imagem transmitida em
% relação da recebida, maior será o PSNR. A Equação~\ref{eq:psnr} é utilizada
% para o cálculo do PSNR, onde $n$ representa o número de bits por amostra da
% imagem, geralmente tem-se $n=8$ e o MSE é a diferença da imagem transmitida pela
% imagem recebida pelo usuário, segundo a Equação~\ref{eq:mse}, onde $u_{ij}$ e
% $\bar{u}_{ij}$ representam os pixels das imagens original e reconstruída,
% respectivamente.
%
% \begin{equation}
% PSNR = 10 \log_{10} (\frac{(2^n - 1)^2}{MSE})
% \label{eq:psnr}
% \end{equation}
%
% \begin{equation}
% MSE = (\frac{1}{MN}) \sum_{i=1}^{N} \sum_{j=1}^{M} (u_{ij} -
% \bar{u}_{ij})^2
% \label{eq:mse}
% \end{equation}
%
% Quanto maior o valor do PSNR, maior é a relação entre a potência do sinal pela
% potência do ruído, o que significa melhor qualidade. Em termos gerais, valores
% de PSNR acima de \ut{42}{dB} correspondem à compressões que introduzem perdas
% imperceptíveis ao olho humano, resultando em uma ótima qualidade. Pode-se
% considerar que vídeos com PSNR acima de \ut{36}{dB} tem qualidade bastante
% aceitável, entre \ut{30}{dB} e \ut{36}{dB} uma qualidade mediana e abaixo de
% \ut{30}{dB} a qualidade já é bem ruim.
%
% Para mais detalhes sobre o uso do PSNR para medição objetiva da qualidade do
% vídeo, pode-se consultar a referência \cite{Webster93anobjective}. Note que os
% valores de PSNR apresentados nos resultados presentes no
% Capítulo~\ref{cap:analisedesemp} foram automaticamente obtidos através do
% simulador de rede utilizado neste trabalho, o qual utiliza-se como base de
% cálculo a Equação~\ref{eq:psnr}.

% \section{Metodologia para Comparação da Qualidade de Áudio}
% \label{sec:metcompaudio}
%
% % EAC use an algo which I wrote by myself, but it is closely related to the following :
% % http://en.wikipedia.org/wiki/Longest_common_subsequence
% % http://en.wikipedia.org/wiki/Longest_increasing_subsequence
%
% Existem basicamente dois métodos para comparar a qualidade de um arquivo de
% áudio: o método subjetivo e o método objetivo.
%
% Nas abordagens que utilizam o método subjetivo, geralmente o interessado em
% comparar os áudios solicita que um conjunto (geralmente grande) de pessoas
% escute os áudios transmitidos e comparem com o áudio original. Em seguida, essas
% pessoas fornecem uma pontuação indicando um valor de qualidade. Uma abordagem
% bastante utilizada é a MOS (\emph{Mean Opinion Score})~\cite{MOS-ITU} que define
% uma tabela que relaciona uma pontuação de $0$ à $100$ com a qualidade do áudio,
% onde $0$ significa muito ruim e $100$ muito boa.
%
% Por outro lado, a metodologia objetiva pode ser útil quando se deseja realizar
% utilizar métodos estatísticos para determinar a qualidade do áudio transmitido
% através da rede, também baseando-se na qualidade do áudio original. A
% comparações entre o áudio original e os áudios transmitidos na rede por cada
% protocolo é baseado em amostras recuperadas tanto do áudio original quanto do
% áudio transmitido.
%
% Existem diversos mecanismo que são utilizados nesta abordagem, uma delas é a
% RMS (\emph{Root Mean Square}). Esta foi a abordagem adotada neste trabalho para
% determinar a qualidade de um áudio transmitido na rede. Esta abordagem foi
% utilizada porque permite a plotagem de gráficos, o que nos habilitou realizar
% uma análise visual do conteúdo do áudio original com o áudio transmitido de
% acordo com a duração da transmissão. Além disso, utilizou-se essa abordagem
% porque com ela é possível relacionar as perdas de informações que ocorrem
% durante a transmissão do fluxo de áudio e verificar o impacto dessa perda na
% qualidade do áudio.
%
% Especificamente a $RMS$ é uma medida estatística da magnitude de uma quantidade
% variável. Pode-se calcular para uma série de valores discretos ou para uma
% função variável contínua. O nome deriva do fato de que é a raiz quadrada da
% média aritmética dos quadrados dos valores discretos, ou seja:
%
% \begin{equation}
% RMS  = \sqrt{\frac{(x_1)^2 + (x_2)^2 + (x_3)^2 + ... + (X_n)^2}{n}}
% \label{eq:rms}
% \end{equation}
%
% Para o caso específico dos áudios utilizados nos experimentos, a cada
% \ut{8}{ms} o valor de RMS foi coletado dos dois canais do áudio, haja vista que
% o formato de áudio transmitido foi um arquivo \emph{MP3} de \ut{44100}{Mhz}, a
% uma taxa de \ut{128}{Kbits/s}.

%e normalizado entre $0$ e $1$ de acordo com a seguinte Equação:
% \begin{equation}
% RMS_i  = 10^{rms\_dB/20}
% \label{eq:rmsNorm}
% \end{equation}
%
% Onde,
% \begin{itemize}
%  \item rms\_dB é o valor RMS em decibél~\cite{REF}\marginpar{<<<<}.
% \end{itemize}

% Um outro método utilizado para comparar o conteúdo transmitido e o original foi utilizar o algoritmo de \emph{hash} MD5 (\emph{Message-Digest algorithm 5})~\cite{REF}\marginpar{<<<<}. Este algoritmo foi desenvolvido pela empresa \emph{RSA Data Security} e permite realizar verificação de integridade de uma informação, sendo largamente utilizado nos mecanismos de criptografia da atualidade. Portanto, neste trabalho além do mecanismo RMS explicado anteriormente, o algoritmo MD5 foi utilizado para verificar a integridade do áudio transmitido na rede e compará-lo com o áudio original. Nestes casos, utilizou-se o comando $md5sum$ disponível para Linux. Este procedimento foi adotado apenas quando foi necessário verificar se ocorreram penas

%Root Mean Square/Quadratic Mean = Sqrt((X_1)^2+(X_2)^2+(X_3)^2+........+(X_N)^2/N)

%http://www.easycalculation.com/statistics/root-mean-square.php
%http://pt.wikipedia.org/wiki/Valor_eficaz
%http://wapedia.mobi/en/Root_mean_square
%http://www.opamp-electronics.com/tutorials/measurements_of_ac_magnitude_2_01_03.htm

%
% Por amplitude??
% http://www.mp3-tech.org/programmer/docs/2001-P03a.pdf
% EAC
% %http://en.wikipedia.org/wiki/Peak_signal-to-noise_ratio
% MOS http://www.rhyshaden.com/voice.htm
% http://www.itu.int/ITU-T/studygroups/com12/emodelv1/help.htm
% %http://pt.wikipedia.org/wiki/Mean_Opinion_Score
% http://pt.wikipedia.org/wiki/E-Model
% Methods for Measuring Perceptual Speech Quality

\section{Sumário do Capítulo}

Neste capítulo apresentou-se a metodologia adotada para uma análise de
desempenho do protocolo \mudccp, a ser apresentada no próximo capítulo.

Foram descritos um método estatístico utilizado para a obtenção das métricas
estabelecidas para analisar o desempenho do protocolo \mudccps e discussões
sobre o cálculo para obtenção dos valores finais para cada uma das métricas
avaliadas. Apresentou-se um método estatístico baseado na teoria da
probabilidade, que possibilita calcular a quantidade de ensaios necessários para
um determinado tratamento de simulação. Na metodologia discutida, determinou-se
um nível de confiança de \ut{95}{\%} para os valores obtidos para cada métrica
estudada. Com este método, foi possível realizar comparações quanto ao
desempenho do \mudccps frente a outros protocolos tradicionais, como o DCCP e o
TCP. Além disso, apresentou-se o cálculo para se obter a quantidade de
repetições (ensaios) necessário para conseguir o nível de confiança
estabelecido.

Definiu-se dois tratamentos e seus fatores. No Tratamento 1, definiu-se
confrontos \mudccps vs. DCCP vs. TCP, ao passo que no Tratamento 2
definiu-se confrontos entre \mudccps vs. DCCP. O objetivo do Tratamento 1 é
averiguar a capacidade de convergência e equidade dos fluxos transmitidos
utilizando o \mudccps analizando a vazão obtida por esses fluxos. Por outro
lado, o objetivo para o Tratamento 2 é averiguar a escalabilidade do \mudccps no
que diz respeito a quantidade de nós receptores interessados em um mesmo fluxo
de dados transmitido por um nó servidor. Esta avaliação foi realizada
aumentando-se a quantidade de nós receptores gradativamente em uma transmissão
de vídeo \mys, coletando-se valores para as métricas de vazão, carga de dados
transmitida e perda de pacotes, atraso e qualidade do vídeo transmitido.

Os Tratamentos $1$ e $2$ foram executados em simulações de rede no NS-2, cuja
topologia da rede foi definida como uma árvore binária completa. Por fim,
discutiu-se o mecanismo estatístico para obtenção dos valores finais para as
métricas estudadas e o cálculo do Nível de Confiança, fixado em \ut{95}{\%}.