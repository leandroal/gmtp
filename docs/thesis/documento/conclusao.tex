\chapter{Considerações Finais}
\label{cap:conclusao}

Fazer pacote geral do GMTP

Conclusions are not a rambling summary of the thesis: they are short, concise statements of the inferences that you have made because of your work. It helps to organize these as short numbered paragraphs, ordered from most to least important. All conclusions should be directly related to the research question stated in Section 4. Examples:

1. The problem stated in Section 4 has been solved: as shown in Sections ? to ??, an algorithm capable of handling large-scale Zylon problems in reasonable time has been developed.

2. The principal mechanism needed in the improved Zylon algorithm is the Grooty mechanism.

3. Etc.

TBD

- EVIDENCIAR OS GANHOS DE MOVER ALGUMAS QUESTÕES DE UMA CAMADA PRA OUTRA
- REPENSAR SE COLOCO COMO CONTRIBUIÇÃO O LANCE DO SIMULADOR
- RETOMAR:

\textit{a constituição de uma rede de favores entre roteadores que interceptam, realizam cache temporário e compartilham pacotes de dados tanto em modo \textit{multicast} (em redes locais) quanto em modo unicast (entre redes distintas), com o auxílio de um algoritmo para controle de congestionamento assistido pela rede, possibilita a independência dos sistemas e o melhor uso dos recursos de rede e, consequentemente, a distribuição eficiente de fluxos de mídias ao vivo}.

% \section{Perguntas Frequentes}


\section{Conclusões}

* Colocar no último slide da apresentação: os direcionamentos sugeridos na qualificação foram fundamentais para...

* Falar que o GMTP-Intra pode ser alterado sem impactar no GMTP-Inter e vice-versa. É uma ``falsa'' mistura entre as duas camadas (cross-layer).

* Por que PS? é invariante a distribuição do tamanho do fluxo, ou seja, não importa ao diferentes são os tamanhos dos fluxos na rede. Mesmo com longos fluxos, o compartilhamento do canal é melhor porque estabiliza mais rápido se comparado com abordagens de monitoramento de perdas.
   RCP: atualiza a taxa (simples e prático): aproxima a taxa de transmissão oferecida aos fluxos da taxa do PS, sem o conhecimento do número exato de fluxos; baseia-se no tamanho da fila, no tráfego agregado de entrada e no RTT médio do tráfego passando através do link
   R(t) é atualizado de acordo com h0.
   Cada roteador tem que fazer três coisas
       - offer the same rate to every flow
       - preencher a fila de saída com os pacotes que chegam na fila de entrada
       - manter a fila de entrada e saída pequena
   Long-flow: 100\% link utilization
   Short-flow: reduce flow completion time,
   Flash-crownd no RCP: pode ter perde
   A questão é: em vez de definir aumentos ou uma diminuições incrementais na janela com base no RTT, no RCP a pergunta é: existe uma taxa de transmissão que os roteadores podem pedir aos fluxos transmitirem e emular o PS. Qual seria essa taxa? como encontrá-la de forma simples?
   Para ter um FCT pequeno, tem que ter alta utilização do link, então precisa-se garantir  que o buffer não estoure (rever 28:30min da defesa da Nandita)
   Nem sempre o XCP é ruim, quando só tem long-lived, mas em cenários dinâmicos (diferentes tamanhos de fluxos) it performs badly and short lived flows last almost the same time of some long lived flows. Quando aumenta o tamanho médio do fluxo para se aproximar ao Bandwidth-delay product, you approach the regime where you have a few high Bandwidth flows multiplex in a large link (51:00min)
   Diferentes topologias: 
     - Sem manter estado por fluxo
     - TCP: perda de pecotes ou atraso
     - XCP: alcança desempenho similar ou melhor do que HS-TCP para long-lived flows
            não é 100\% fair em determinados momentos
            em fluxos mistos (tamanho) e na dinâmica da rede não é bom
            multiplicações e divisões é sim ruim (Nandita -> Cisco)
            
            
     - CC: na literatura, em geral, só focam em usar o máximo do link


\section{Resumo das Contribuições}
\label{sec:contribuicoes}

The Summary of Contributions will be much sought and carefully read by the examiners. Here you list the contributions of new knowledge that your thesis makes. Of course, the thesis itself must substantiate any claims made here. There is often some overlap with the Conclusions, but that's okay. Concise numbered paragraphs are again best. Organize from most to least important. Examples:

1. Developed a much quicker algorithm for large-scale Zylon problems.

2. Demonstrated the first use of the Grooty mechanism for Zylon calculations.

3. Etc.


No contexto desta tese, resume-se as principais contribuições.

\begin{enumerate}

%   \item Uma revisão bibliográfica sobre o estado da arte no contexto do
% tema que se discute. Apresenta-se a forma de com os sistemas atualmente são
% projetados e as principais considerações sobre os mesmos, como técnicas,
% métodos e abordagens utilizadas;

  \item a concepção e descrição detalhada de um protocolo para distribuição de conteúdos multimídia ao vivo. Apresenta-se a elaboração do GMTP, que considera a comunicação mais efetiva entre as duas camadas mais importantes da pilha TCP/IP, a de transporte e a de rede.
%   Além disso, (re)visita-se assuntos importantes na área de redes e traz-se à tona os recentes avanços da área de estudo, como os conceitos das redes centradas na informação~\cite{6563278} e os algoritmos de controle de congestionamento assistido pela rede~\cite{983548}.
  Nesse contexto, contribui-se com uma proposta de como pode-se permitir a interoperabilidade dos atuais sistemas de distribuição multimídia, promovendo-se formas de adaptação dos sistemas existentes.
% , bem como o reúso de algumas funções comuns a todos os sistemas.

  \item discussões sobre a aplicação do \textit{Rate Control Protocol} (RCP)~\cite{Dukkipati:2008:RCP:1368746} no GMTP. O RCP é um proeminente algoritmo de controle de congestionamento assistido pela rede e foi usado no GMTP para auxiliar no processo de distribuição de mídias ao vivo. Nesse contexto, contribui-se com discussões sobre as adaptações realizadas no RCP para permitir sua aplicação ao GMTP e como se pode utilizá-lo no processo de formação de parcerias em uma rede de favores, função jamais vista em qualquer outra solução de distribuição de mídias ao vivo. Ou seja, além de utilizar o RCP para melhorar o consumo dos recursos compartilhados de rede (controle de congestionamento), propõe-se um algoritmo de seleção de nós parceiros com base na atual capacidade de transmissão dos enlaces entre os nós servidores de um fluxo de dados ao vivo e os nós clientes interessados em recebê-lo. Ademais, discute-se aspectos fundamentais sobre a escolha do RCP em detrimento a outras propostas bem conhecidas, como o XCP~\cite{Katabi2003} e o VCP~\cite{4460574}.

  \item os resultados e discussões acerca do GMTP frente a uma proeminente proposta: o Denacast/CoolStreaming~\cite{5764567}.
%  e o CCN-TV~\cite{6550523}.
O Denacast é um sistema de distribuição de mídias ao vivo baseado no CoolStreaming com suporte a uma rede de distribuição de conteúdos (P2P/CDN). Com os resultados comparativos obtidos, contribui-se para tomada de decisões sobre futuras pesquisas no contexto de distribuição de mídias ao vivo.
% O CCN-TV é um sistema de TV para Internet com suporte às redes centradas na informação. Com isto, contribui-se para tomada de decisões sobre futuras pesquisas no contexto de distribuição de mídias ao vivo.

  \item a implementação de artefatos de software que permitem a reprodução do ambiente de estudo, tais como implementação do GMTP no simulador de rede OMNet++~\cite{XU2011,omnetpp2014}.
%  bem como encaminhamentos iniciais de implementação no núcleo do Linux.

  \item os encaminhamentos da pesquisa sobre futuros avanços do estado da arte,
tais como as limitações do protocolo proposto e uma breve discussão de como
essas limitações poderão ser aprimoradas.

\end{enumerate}

Ademais, destaca-se a importância e originalidade do presente trabalho por ser o primeiro a trazer à tona um problema e uma proposta de solução do uso de um protocolo de transporte e rede, exclusivamente projetado para a distribuição de mídias ao vivo na Internet. Até então, distribuir conteúdos multimídia na Internet se resumia em sistemas baseados em protocolos tradicionais (TCP, UDP, DCCP, SCTP) ou outros proprietários, em geral, disponíveis na camada de aplicação e independentes.

PS: O GMTP vai além de uma simples solução multicast porque permite a parceria entre diferentes nós que não estão necessariamente na mesma árvore multicast.

\section{Limitações}

- a quebra de fluxos em sub-fluxos requer maior processamento para medições de RTT
- implantação (ver a tese da dina)
- 

\section{Trabalhos Futuros}

- Considerar outras topologias
- Tráfego background + impacto no TCP

The Future Research subsection is included so that researchers picking up this work in future have the benefit of the ideas that you generated while you were working on the project. Again, concise numbered paragraphs are usually best.

- montar uma rede e colocar pra funcionar na Internet
- otimizar a obtenção dos nós em uma rota (pensar sobre como nem sempre colocar o identificador nos pacotes de registro de participação). Que tal olhar para o endereço de destino e fazer cache, em um determinado período de cache não põe mais o identificador. Será que funcionará? como ficam as questão de um roteador colocar e outro não? ou todos colocam ou nenhuma coloca. Nesse caso, pode-se usar uma flag qd o primeiro não colocar.


8. Appendices

COLOCAR CABEÇALHO DOS PACOTES?

REPRODUCIBLE RESEARCH?

What goes in the appendices? Any material which impedes the smooth development of your presentation, but which is important to justify the results of a thesis. Generally it is material that is of too nitty-gritty a level of detail for inclusion in the main body of the thesis, but which should be available for perusal by the examiners to convince them sufficiently. Examples include program listings, immense tables of data, lengthy mathematical proofs or derivations, etc.



\section{Análise do Projeto GMTP}
\label{sec:analisedeproj}

% \subsection{GMTP na Rede Nacional de Pesquisa (RNP)}
% \label{subsec:gmtp-rnp}
% 
% O \textit{backbone} da RNP é estruturado em 27 roteadores distribuídos em todos os estados brasileiros e foi projetado para garantir não só a largura de banda necessária ao tráfego de Internet usual (navegação web, correio eletrônico, transferência de arquivos), mas também o uso de serviços e aplicações avançadas e a experimentação. A rede possui ramificações para atender mais de 500 instituições de ensino e pesquisa em todo o país, beneficiando mais de 3,5 milhões de usuários.
% 
% A capacidade agregada da RNP é de \ut{233,2}{Gbps}, com velocidades multigigabits ($\ge$ \ut{2}{Gbps}) em 24 dos 27 roteadores (Figura~\ref{fig:rnp-mapa-br}). No contexto internacional, a RNP tem uma conexão de \ut{1,45}{Gbps} com a Cooperação Latino-Americana de Redes Avançadas (RedCLARA), que integra 15 países da América Latina e \ut{20}{Gbps} com a Academic Network at São Paulo (ANSP). Por meio da uma operação em parceria com a ANSP, a RNP se conecta a outras infraestruturas acadêmicas internacionais, como à Internet2, à europeia Géant e à Internet comercial mundial.
% 
% \begin{figure}
% \begin{center}
% \includegraphics[natwidth=1061,natheight=928,scale=.34]{imgs/rnp-mapa-br.png}
% \end{center}
% \vspace{-1cm}
% \caption{Capacidade dos enlaces e pontos de presença da RNP no Brasil.}
% \label{fig:rnp-mapa-br}
% \end{figure}
% 
% Na Figura~\ref{fig:rnp-backbone}, ilustram-se detalhes do \textit{backbone} da RNP. Por exemplo, 
% 
% \begin{figure}
% \begin{center}
% \includegraphics[natwidth=664,natheight=340,scale=.61]{imgs/rnp-backbone.png}
% \end{center}
% \vspace{-1cm}
% \caption{\textit{Backbone} da Rede Nacional de Pesquisa (RNP). 27 pontos de presença, um em cada estado brasileiro, com 22 pontos de troca de tráfego. Extraída de http://www.rnp.br/.}
% \label{fig:rnp-backbone}
% \end{figure}

% Nesta seção,
% % organiza-se a discussão sobre o projeto GMTP em duas partes. Na Seção~\ref{subsec:gmtp-rnp}, discute-se o funcionamento do GMTP se fosse posto em funcionamento em uma grande rede, instanciando-se a Rede Nacional de Pesquisa (RNP). E, na Seção~\ref{subsec:gmtp-servicos},
% examinam-se os serviços do GMTP oferecidos aos sistemas de distribuição de mídias ao vivo com vistas aos atuais recursos implementados de forma paliativa nos sistemas existentes, devido à inexistência de um suporte mais efetivo das redes atuais.
