\chapter{Análise de Projeto e do Desempenho do GMTP}
\label{cap:analisedesemp}

Neste capítulo, apresentam-se a análise de projeto e a avaliação de desempenho do protocolo GMTP com relação às propostas Denacast/CoolStreaming~\cite{Jahromi2012,5764567} e o CCN-TV~\cite{6550523}, selecionadas devido à similaridade arquitetural para distribuição de mídias ao vivo. Tratam-se de propostas que adotam a maioria das estratégias disponíveis no estado da prática/arte para o fim que se discute, referenciadas na literatura e acessíveis para estudos comparativos. Nesse contexto, considera-se que as avaliações são equânimes, pois o Denacast estende o funcionamento do CoolStreaming para dar suporte a uma estrutura P2P/CDN, o CCN-TV faz uso de uma infraestrutura que considera efetivamente o suporte da rede para otimizar o acesso aos dados e o GMTP, que essencialmente explora uma estratégia híbrida em relação a estes concorrentes.

Inicialmente, na Seção~\ref{sec:projeto-gmtp}, analisa-se o projeto GMTP no tocante aos seus benefícios e funcionalidades, bem como uma comparação de projeto (arquitetura e modelo de serviço) frente ao Denacast/CoolStreaming (a partir deste ponto chamado apenas de Denacast) e o CCN-TV. Em seguida, apresenta-se a fase de avaliação do GMTP. Na Seção~\ref{sec:metodologia}, apresenta-se a metodologia de avaliação de desempenho do GMTP. Na Seção~\ref{sec:resdisc}, estabelecem-se confrontos entre o GMTP e os sistemas supracitados, apresentando-se os resultados e discussões mais relevantes. Por fim, na Seção~\ref{sec:resdisc-sumario}, apresentam-se o resumo dos principais resultados obtidos na análise de desempenho e o sumário deste capítulo.

\section{Análise do Projeto}
\label{sec:projeto-gmtp}

Nesta seção, objetiva-se justificar a proposta do GMTP não apenas como um protocolo que reduz a complexidade das aplicação e promove a interoperabilidade entre os sistemas, mas também suscitar que um conjunto mínimo de serviços, quando organizado de forma mais apropriada, promove melhorias substanciais no projeto das aplicações e principalmente no uso dos recursos de rede.

Nesse contexto, organizou-se esta seção em duas partes. Primeiramente, analisam-se as funções do GMTP e seus consequentes benefícios e, em seguida, apresenta-se uma comparação de projeto entre o GMTP, o Denacast e o CCN-TV.

\subsection{Projeto e benefícios do GMTP para os sistemas e para as redes}

% \begin{figure}
% \begin{center}
% \includegraphics[natwidth=664,natheight=340,scale=.61]{imgs/gmtp-servicos-sistemas.png}
% \end{center}
% \vspace{-1cm}
% \caption{\textit{Backbone} da Rede Nacional de Pesquisa (RNP). 27 pontos de presença, um em cada estado brasileiro, com 22 pontos de troca de tráfego. Extraída de http://www.rnp.br/.}
% \label{fig:gmtp-servicos-sistemas}
% \end{figure}

Como já apresentado na problemática deste trabalho (Seção~\ref{sec:problematica}), os desenvolvedores de sistemas de distribuição de mídias ao vivo enfrentam problemas que deveriam ser solucionados nas camadas inferiores da pilha TCP/IP e, por tentarem resolver na camada de aplicação, geram problemas adicionais.

Por exemplo, ao tentarem implementar na aplicação recursos para conexão multi-ponto (em geral P2P) e tratamentos de diferentes topologias, passa a ser necessário selecionar nós parceiros e tolerar falhas, o que por si só já geram outros problemas e que impactam negativamente na qualidade de serviço das aplicações. A necessidade de selecionar nós parceiros acarreta na necessidade de definir estratégias para atenuar o \textit{churn} da rede, o que requer que as aplicações definam estratégias utilizem o histórico de disponibilidade e oferta de serviço dos candidatos a parceiros, o que acarreta na necessidade de ter que aferir e tomar decisões para ordenar os nós com base em critérios pré-definidos, mas sem garantias de obter uma melhor qualidade de serviço.

Como consequência das ações anteriores, demanda-se a obtenção de informação de contexto sobre os nós (localização, perfil do usuário, estimativas e medições de custos entre nós, etc). Devido ao dinamismo das redes, gerado pela tentativa de implementar conexão multi-ponto, faz-se necessário incentivar à cooperação entre nós a fim de mandê-los mais tempo conectados. Como consequência, deve-se explorar e diversas técnicas para este fim, como as baseadas em modelos econômicos, cada uma com seus próprios desafios. Pelo modelo cooperativista implementado nas aplicações P2P, tornou-se necessário identificar e inibir a participação de nós \textit{free-riders}, o que remete à necessidade de incentivos. Devido à complexidade de estimar a real capacidade de transmissão dos nós, tornou-se também necessário o uso de técnicas para monitorar a capacidade de recepção dos nó clientes a fim de adaptar os fluxos de dados com base em tal informação, sendo também necessário ofertar canais de transmissão com diferentes níveis de qualidade da mídia. Por fim, devido à cooperação direta entre os clientes, facilita-se a implementação de ataques de poluição e, portanto, fez-se necessário o emprego de soluções para impedi-los, ou ao menos validar o conteúdo antes de sua reprodução ao usuário final.

Ao observar os problemas resultantes da tentativa suprir as limitações da rede, a seguir, enumeram-se cinco principais benefícios que podem ser constatados ao utilizar o GMTP, tanto no contexto dos sistemas de distribuição de mídias ao vivo quanto no contexto do consumo dos recursos de rede, relacionando-os com os recursos atualmente empregados nos sistemas de distribuição de mídias ao vivo.


\begin{figure}[b!ht]
\begin{center}
\includegraphics[scale=.78]{imgs/protocolo-remodelagem-p2p.pdf}
\end{center}
\vspace{-1cm}
\caption{Estado das funções de aplicação após o uso do protocolo GMTP.}
\label{fig:protocolo-remodelagem-p2p}
\end{figure}


\begin{enumerate}

  \item \textit{Otimização arquitetural:} antes do GMTP, os desenvolvedores de sistemas multimídia eram obrigados a considerar limitações de arquitetura de rede em seus projetos de software. Por exemplo, a lógica para distribuição da mídia era toda embutida na aplicação, aumentando sua complexidade de manutenção. O GMTP abstrai a complexidade de distribuir mídias ao vivo com base, por exemplo, no gerenciamento transparente de canais \textit{multicast} (adicionar e remover) sem a influência da aplicação, inclusive entre diferentes domínios administrativos. Além disso, abstraem-se outros aspectos importantes para a aplicação, como o controle de congestionamento, antes embutidos na aplicação por falta de uma proposta mais adequada.
% Como exemplo de aplicação real desse caso é o sistema BitTorrent Live, que tiveram que implementa um algoritmo para controle de congestionamento chamado LEDBAT~\cite{shalunov2011} apropriado para transmissão de mídias ao vivo. O problema é que o BitTorrent implementa recursos desse tipo, porém outras soluções não o fazem.

  \item \textit{Interoperabilidade entre sistemas:} O GMTP unifica a forma que os sistemas finais transmitem e receber mídias ao vivo, uma vez que todo esse processo ocorre na camada de transporte e sem qualquer influência da aplicação. Isto significa que os sistemas podem cooperar entre si sem necessariamente deter conhecimentos arquiteturais e de interfaces de aplicação (API) uns dos outros. O plano é entregar as partes da mídia o mais rápido quanto possível, utilizando-se os melhores pares e independente dos sistemas. Para tornar isto possível, estabeleceram-se no GMTP funções como descrição da mídia e mecanismos que promovem a cooperação entre os nós, sem necessitar manter controle sobre os nós que mais contribuem e aqueles que apenas se aproveitam dos recursos dos outros (\textit{free-riders}). Nesse ínterim, realizam-se outras funcionalidades importantes tanto para melhorar o serviço oferecido às aplicações quanto ao consumo dos recursos de rede. Por exemplo, o mecanismo de controle de congestionamento empregado no GMTP funciona de forma colaborativa, tanto em \textit{unicast} quanto \textit{multicast}, sem a influência da aplicação, que não pode injetar informações falsas sobre sua percepção do estado da rede.

  \item \textit{Facilidade na integração:} os atuais e novos sistemas de distribuição de mídias ao vivo poderão integrar o GMTP de forma simples, uma vez que se manteve o uso da API tradicional de \textit{sockets}. Para os sistemas existentes, muitas das funcionalidades, como as citadas no início desta seção não serão mais necessárias, podendo-se reduzir sobremaneira a complexidade da aplicação e consequentemente de manutenção. Para os sistemas novos, permite-se uma prototipação mais rápida e com menor chances de erros, evitando-se a super utilização dos recursos de rede devido ao emprego de boas práticas de engenharia de software para distribuição de mídias ao vivo e desacopladas da aplicação.

  \item \textit{Desacoplamento e Extensibilidade:} a organização do GMTP em dois módulos, GMTP-Inter e GMTP-Intra, permite o desacoplamento entre o que é função de rede e de aplicação, respectivamente. Isto evita que as funções de rede, como controle de congestionamento e distribuição de pacotes de dados sofram influência da aplicação. Apesar dessa separação, ainda sim permite-se a troca de informações entre os sistemas finais e a rede, mas que sejam somente pertinentes à distribuição de mídias (\textit{Cross-Layer}). Além disso, possibilita-se a extensão do GMTP em casos de requisitos mais avançados da aplicação, quando não disponível no GMTP. Por exemplo, um desenvolvedor poderá promover alterações no GMTP-Intra e/ou GMTP-Inter a fim de atender suas necessidades sem afetar o GMTP-Inter e a aplicação em execução no sistema final. Uma fabricante de um roteador pode promover mudanças no GMTP-Inter (por exemplo, melhorar a estratégia de manipulação do \textit{cache} ou de verificação de pacotes) e disponibilizar uma nova versão da \textit{firmware} sem necessariamente ter que atualizar o GMTP-Intra em todos os sistemas finais. As decisões tomadas principalmente na definição do cabeçalho do GMTP oferecem esse tipo de flexibilidade. Nesse contexto, é possível, por exemplo alterar o formato de descrição de uma mídia (função do GMTP-Intra) sem precisar alterar o GMTP-Inter, permitindo-se atualizações gradativas dos sistemas finais para uma nova versão do GMTP-Intra, sem afetar o funcionamento da aplicação, devido à abstração da API de sockets. O fato é que a proposta do GMTP é uma infraestrutura que permitirá a evolução do protocolo sem afetar a camada de aplicação, permitindo-se a adição de outras estratégias de distribuição de mídias ao vivo que possam surgir futuramente e o principal, que estarão disponíveis automaticamente para uso em qualquer aplicação.
% Esta tem sido uma prática comum atualmente, uma vez que os principais fabricantes já possuem estratégias de atualização automática da \textit{firmware} para correções e/ou melhorias de funcionalidades, o que corrobora com a extensibilidade do GMTP. O inverso também pode ocorrer. ||| Nesse contexto, os sistemas operacionais mais modernos também dispõem de mecanismos consolidados para promover atualizações no sistema sem afeter a camada de aplicação, tudo através da Internet.

  \item \textit{Eliminação de recursos paliativos e consequentes:} quando se delega muitas responsabilidades à aplicação, há uma tendência de desordem, de fragmentação de funcionalidades e consequentemente de um baixo aproveitamento dos recursos de rede, devido à liberdade que as aplicações passam a ter de promover seus próprios recursos da forma que seu desenvolvedor desejar. Por exemplo, em redes puramente P2P é sempre complexo manter uma estrutura sem nós \textit{free-riders}, apesar de existirem algoritmos para reduzir o efeito dessa prática na rede. Com o uso do GMTP pode-se reduzir drasticamente os nós \textit{free-riders}, pois quando um nó requisita um fluxo de dados automaticamente o GMTP poderá compartilhá-lo com outros nós parceiros. Um outro exemplo é o tratamento para conexão multi-ponto e tolerância às falhas. O mecanismo de conexão multi-ponto é resolvido no GMTP pela interceptação de requisições e sugestão de parcerias entre nós roteadores. Com relação às falhas, mesmo um nó roteador seja desconectado da rede seus parceiros não se tornarão órfão, pois o nó repassador GMTP pode obter o conteúdo multimídia a partir de múltiplos nós repassadores, o que reduz drasticamente problemas causados pelo \textit{churn}. Enfim, atualmente outros problemas são tratados na camada de aplicação e que, com o uso do GMTP, tornam-se obsoletos são: a necessidade de obter informações de contexto sobre os nós, tais como localização, perfil de usuário e custos; uso de mecanismos de incentivos para permitir a cooperação; adaptação de fluxos de dados com base na capacidade dos nós receptores; controle de congestionamento, detecção de nós \textit{free-riders} e de ataques de poluição.

\end{enumerate}

\subsection{Comparativo: GMTP, Denacast/CoolStreaming e CCN}
\label{subsec:comparativo-gmtp-dena-ccn}

A seguir, apresentam-se detalhes de comparação entre o GMTP e os seus dois principais concorrentes: Denacast e CCN. O Denacast pode ser considerado o estado da prática, o principal representante dos sistemas para distribuição de mídias ao vivo e que consideram uma arquitetura P2P/CDN. Já a CCN pode ser considerada uma proposta do estado da arte, onde o foco da discussão passa a ser mais arquitetural, com um cunho comparativo e menos relacionado com a camada de aplicação.

\subsubsection{GMTP vs. Denacast:}

\begin{enumerate}

  \item No CoolStreaming, a rede de favores é centrada no dado. Os nós realizam parcerias considerando quais parceiros possuem as partes da mídia de interesse e a mudança de parcerias ocorre ao longo da transmissão. Isso gera instabilidades na transmissão, impactando diretamente em métricas como o índice de continuidade. Além disso, efetivam-se parcerias independente da posição do nó na rede de favores, levando-se em consideração apenas o nó que detém um determinado contéudo de interesse e sua capacidade de \textit{upload}, o que pode gerar sobrecarga na troca de informações de controle. No GMTP, a rede de favores é centrada na conexão e a constituição de tal rede ocorre de forma transparente à aplicação. A formação da rede acontece no processo de pedido de conexão, onde os nós intermediários (roteadores), localizados entre o nó interessado pela mídia (cliente) e o nó transmissor (servidor), são autorizados a interceptar o pedido de conexão e responder ao nó cliente como se fossem o servidor original. Somente depois dessa fase, os nós roteadores GMTP iniciam um processo de expansão de parcerias, onde podem realizar parcerias com outros nós que não estejam, necessariamente, conectados em um mesmo servidor da CDN.

  \item O conceito de sub-fluxo empregado no CoolStreaming adiciona complexidade à solução sem necessariamente resultado em melhor desempenho. Em~\cite{4509752}, os autores do CoolStreaming discutem que aumentar a quantidade de número de sub-fluxos não melhora proporcionalmente algumas métricas, como o índice de continuidade e utilização da capacidade de \textit{upload} dos nós transmissores (em média). Os autores executaram simulações com 40 mil nós e 24 servidores auxiliares (que funcionaram apenas como nós transmissores) e observaram que a partir de 8 sub-fluxos, a métrica de índice de continuidade de capacidade de \textit{upload} não melhoram, piorando em alguns casos (quando se utiliza nós com capacidade heterogêneas de transmissão). No GMTP, utiliza-se sempre o método \textit{push} após um nó estabelecer uma conexão e os roteadores no caminho entre o nó servidor, com interceptação de requisições. O método \textit{pull} é utilizado somente em se deseja obter um determinado conteúdo presta a ser reproduzido e que ainda não foi recebido via \textit{push}. Essa estratégia reduz a quantidade de requisições ao servidor e o atraso para começar a reprodução de uma mídia ao usuário final (apenas o primeiro usuário perceberá um atraso maior do que os demais).
% Se no caminho entre o nó cliente e o nó servidor não ocorrer nenhuma interceptação, a requisição alcançará o nó servidor, e a troca de dados ocorrerá normalmente. Em seguida, os próximos nós clientes que transmitirem pedidos de conexão e o pacote de requisição for roteado através de pelo menos parte do mesmo caminho já utilizado anteriormente, um nó servidor instruirá um roteador desse caminho a replicar o fluxo para o novo nó cliente, em vez de responder com a aceitação do pedido de conexão.
% Com isso, o GMTP é a primeira proposta que considera que os nós servidores auxiliam os nós intermediários na tomada de decisão de roteamento, com foco na necessidade do nó cliente em rapidamente receber os pacotes da mídia e consequentemente na otimização de uso dos recursos de rede.

  \item Os nós da rede de sobreposição do sistema CoolStreaming são os sistemas finais, que executam aplicações de rede. No GMTP, constitui-se uma rede de sobreposição entre os roteadores e não entre os sistemas finais. Dessa forma, a rede se torna estável com relação a dinâmica de entradas e saídas de nós clientes, sendo possível continuar utilizando temporariamente os recursos de um roteador, mesmo quando seus nós clientes desistem de continuar obtendo a mídia de interesse. Por exemplo, no CoolStreaming e sistemas similares, se o usuário fechar o aplicativo pode resultar em interrupções temporárias na reprodução da mídia por parte de outros nós da rede, impactando no índice de continuidade.

  \item Um nó recém integrado à rede DONet pode levar muito tempo (em alguns casos 20 segundos) para obter os primeiros blocos da mídia a fim de reproduzi-lo ao usuário final. Isto porque, ao se conectar à rede, um nó solicita o mapa de \textit{buffer} a um conjunto de nós parceiros informados por um servidor de \textit{boostrap}. Porém, o desafio é definir a partir de qual ponto do \textit{buffer} um nó deve começar a solicitar os blocos da mídia. Por exemplo, se o novo nó requisitar um bloco de vídeo muito antigo, pode ser que tal bloco não esteja mais disponível, já que o nó cliente (suposto parceiro) remove o bloco após sua reprodução. Por outro lado, se o nó requisitar um bloco da mídia muito recente, pode ser que nenhum de seus nós parceiros o tenha disponível, aumentando-se o tempo de espera. No GMTP, situações como essas não ocorrem porque se utiliza, por padrão, o método \textit{push} e, além disso, as últimas partes da mídia (mais atuais) já podem estar disponíveis no roteador, quando outros clientes já estão conectados e recebendo o fluxo de dados correspondente à mídia de interesse.

  \item A seleção de nós no sistema CoolStreaming ocorre com base na escolha aleatória de um sub-conjunto de nós disponíveis em uma lista de parceiros. Após realizar parcerias com um sub-conjunto de nós, um nó começa a receber os blocos da mídia, ao mesmo tempo que monitora o \textit{status} de recepção dos sub-fluxos, transmitidos por diferentes nós parceiros. Quando um nó percebe que a taxa de recepção não está satisfatória, inicia-se um processo para selecionar novos nós parceiros. A grande questão é definir quando, de fato, a taxa de recepção não está sendo suficiente, devido à dinâmica da rede. Um nó parceiro que é identificado com um nó ruim, no instante seguinte pode ser que o cenário mude e o referido nó passe a ser a melhor parceria, porém a desconexão entre estes já pode ter sido efetivada. Para realizar essa avaliação, cada nó monitora o \textit{buffer} de recepção dado um sub-fluxo $j$ transmitido por um nó $C_{1}$ ao nó $C_{2}$, observando as inequações~\ref{eq:coolstreaming-substream-monitor1} e~\ref{eq:coolstreaming-substream-monitor2}, apresentadas na Seção~\ref{subsec:coolstreaming}, tomando-se então uma decisão. Essa estratégia é muito complexa quando em sistemas de distribuição multimídia em larga escala, pois se exige o monitoramento constante dos \textit{buffers} dos sub-fluxos, o que implica em exaustivas trocas de mapa de \textit{buffer}, que aumenta proporcionalmente com o aumenta da quantidade de nós parceiros, tal como se discutiu na Seção~\ref{subsec:coolstreaming}. A consequência é um aumento expressivo de pacotes de controle entre os nós parceiros e seus nós pais, além da transmissão de pacotes de dados contendo as partes da mídia. No GMTP nada disso é necessário, aliás, faz-se de uma forma bastante diferente. Utiliza-se o próprio algoritmo de controle de congestionamento (GMTP-Inter), que expõe aos nós clientes e aos nós parceiros e/ou servidores o nível de utilização do canal a cada instante definido com base no RTT, como discutiu-se na Seção~\ref{subsec:mudccp-ucc}. Com isto, permite-se a formação de parcerias sem precisar exigir que as aplicações monitorem o estado da rede. Dessa forma, tanto um nó receptor quanto o nó transmissor conhecem a capacidade máxima de transmissão no canal que separa ambos e, assim, o nó transmissor ajusta sua taxa de transmissão em direção ao nó receptor de acordo com a capacidade de transmissão disponível em um certo instante.

  \item No ponto de vista da rede P2P, as considerações sobre o sistema Denacast são similares ao caso do CoolStreaming. Com relação à arquitetura geral do Denacast, propõe-se uma melhor organização da rede de sobreposição devido ao uso de servidores de uma rede CDN. Isto permite melhor agrupamento dos nós em uma determinada região da rede (delimitada pela localização do nó servidor da CDN). Nesse sentido, o Denacast escala melhor o número de nós e melhora as métricas de qualidade de serviço relacionadas à transmissão de uma mídia ao vivo, comparando-o ao CoolStreaming~\cite{Jahromi2012,5764567}.
% O Denacast é o sistema que mais se aproxima ao GMTP, devido a sua estratégia de unir diferentes redes de malha quando a quantidade de nós em uma determinada rede extrapola um determinado limite.

\end{enumerate}

\subsubsection{GMTP vs. CCN:}

\begin{enumerate}

  \item Como discutiu-se no Capítulo~\ref{cap:introducao}, as aplicações de transmissão de mídias ao vivo possuem algumas peculiaridades que precisam ser tratadas nas camadas abaixo da aplicação, sendo praticamente impossível generalizar uma infraestrutura que sirva para fluxos de dados elásticos e inelásticos. Em geral, na rede CCN, constatou-se com base na revisão da literatura uma tendência a considerar uma arquitetura mais genérica possível para permitir diferentes padrões de tráfego, mas isso não é trivial -- certos tipos de tráfego, multimídia por exemplo, requer tratamento peculiar da aplicação e principalmente da rede. Por este motivo, no GMTP, decidiu-se partir dos requisitos específicos dos sistemas de distribuição de mídias ao vivo e questionar sobre quais funções utilizadas nesses sistemas podem ser generalizadas para a aplicação e controladas pela rede e/ou abstraída pelo sistema operacional. Como resultado do GMTP, adiciona-se à rede IP, originalmente proposta para transportar fluxos de dados em sua maioria elásticos, a capacidade de prover funções comuns a todas as aplicações que transmitem fluxos de dados inelásticos. Estrategicamente, adotou-se a premissa de que é mais importante entregar os pacotes de dados às aplicações de rede o mais rapidamente possível, mesmo que para isso tivesse que enfraquecer possíveis restrições comerciais da mídia sendo transportada. Nesse último caso, se houver restrições comerciais da aplicação, pode-se simplesmente optar por implementar um mecanismo proprietário de codificação e autenticação. Isto pode ser feito diretamente na aplicação, estendendo-se o GMTP-Intra. 

  \item Como consequência do item anterior, a rede CCN transmite mais pacotes de controle do que o GMTP por ter uma proposta de modelo de serviço mais genérico, baseado em \textit{pulling}. No GMTP, propõe-se um modelo de serviço híbrido \textit{push-pull}. Por ter um modelo de serviço mais específico para sistemas de distribuição de mídias ao vivo, no GMTP o mecanismo de \textit{cache} das partes de uma mídia é mais simples de se implementar, pois se utiliza uma estrutura de \textit{buffer} circular, substituindo-se as partes da mídia à medida que se recebem as partes subsequentes, sem a necessidade do roteador transmitir, a todo instante, o equivalente ao que foi denominado de pacote de interesse, considerando-se nomenclaturas básicas das redes CCN. Em CCN, um dos grandes desafios é definir quanto tempo um dado deve permanecer em \textit{cache}, já que nem sempre os pacotes contém dados transientes. Isto impacta diretamente nos sistemas de mídia ao vivo, uma vez que um pacote pode expirar e continuar sendo mantido em \textit{cache}. Isto motiva outro desafio: determinar se um dado em \textit{cache} ainda é válido, principalmente em aplicações elásticas. No caso do GMTP, decidiu-se continuar usando endereçamento IP com o objetivo de que a sua adoção seja mais simples, considerando-se a estratégia de apenas instruir os roteadores a realizar uma política mais sofisticada de repasse, quando os pacotes entram na fila de roteamento, aproveitando-se a oportunidade de também repassá-lo através de rotas adicionais, de acordo com a demanda.

%   \item Em ICN, especialmente em NDN, ainda não se sabe qual tratamento será feito caso nós maliciosos realizem um ataque de negação de serviço distribuída ao inundar os roteadores transmitindo demasiadamente 

  \item Para executar as aplicações de rede existentes na Internet sobre uma rede CCN, fazem-se necessárias maiores alterações nos sistemas de transmissão de mídias ao vivo. Será necessário que os atuais sistemas mudem a lógica de requisição das partes da mídia, sendo mandatório também alterar o esquema de identificação do conteúdo de interesse, que passa a ser por nome e não mais por endereço IP e número de porta. Em CCN há uma inversão na forma que uma aplicação obtém os pacotes de dados. Isto porque propõe-se que o nó cliente controle praticamente todos as funções de transporte de dados, como controle de perda/erro, controle de congestionamento e de fluxo. No GMTP, realiza-se uma forma implícita de nomear os fluxos, levando-se em consideração a estratégia atual de acesso baseada em endereço IP e porta. Gerar um código único baseado nesses dois parâmetros evita a necessidade de ter que alterar as aplicações para especificar o nome do conteúdo a ser acessado. Além disso, o controle das funções não é delegado aos nós clientes, como ocorre nas redes CCN, principalmente em se considerando distribuição de mídias ao vivo. Pelo contrário, os nós finais (cliente e servidor) passam a ter uma participação mínima no processo de distribuir os pacotes de dados e o GMTP extrapola o limite da construção de uma rede P2P, pois também promove serviços que evitam a ocorrência de requisitos e problemas consequentes da estratégia de uma rede P2P apenas na camada de aplicação, como os citados no início dessa seção. Enfim, mantem-se o GMTP no âmbito do paradigma das redes IP, sem exigir grandes mudanças no núcleo da rede, executando-se as funções de compartilhamento de um mesmo fluxo de dados através da formação de parcerias entre os roteadores, instruídos pelos nós servidores, que detém o efetivo conhecimento da demanda por um certo conteúdo.

  \item Nas redes CCN, o mecanismo que determina a interceptação de um pacote de interesse é limitado à verificação local se o fluxo de dados já está sendo recebido ou não, sem auxílio de qualquer outro nó. Por exemplo, o nó servidor tem um papel coadjuvante, apenas respondendo pacotes de dados quando recebe um pacote de interesse, sem manter estado de conexão. No GMTP, o nó servidor tem um papel importante no processo de distribuição dos pacotes de dados ao auxiliar a rede a decidir qual é a melhor rota para obter um fluxo de dados com base na interceptação de duas ou mais rotas conhecidas e já sendo utilizadas para transmitir o respectivo fluxo. De fato, há uma troca de serviços, pois o roteador também auxilia o servidor informando qual deve ser sua taxa ideal de transmissão, evitando-se super utilização do canal e permitindo que, se necessário, o servidor realize adaptações no conteúdo.

  \item Nas redes CCN, ainda não está claramente definido o uso de soluções mais otimizadas de controle de congestionamento, pelo contrário, as propostas ainda estão no âmbito de algoritmos tradicionais baseado em janelas deslizantes ou similares. Em diversas pesquisas recentes, demonstrou-se que utilizar os roteadores para realizarem controle de congestionamento melhora sobremaneira o desempenho da rede e das aplicações. No GMTP, optou-se por utilizar tal abordagem, estendendo-a para permitir que o nó servidor sugira aos roteadores quais parcerias devem ser efetivadas, baseando-se na capacidade atual de transmissão dos canais conhecidos. Além disso, definiu-se um mecanismo para segmentar um caminho entre o cliente e o servidor com base na capacidade de transmissão dos nós intermediários. Em nenhum outra proposta disponível no estado da arte isto foi feito. Já nas CCNs, as pesquisas estão concentradas em fazer com o que o nó servidor disponibilize múltiplos fluxos de dados codificados em diferentes taxas de bits, onde os nós clientes devem monitorar sua capacidade de recepção e requisitar o fluxo de dados mais apropriado. O problema é que realizar essa função apenas monitorando perdas de dados e atraso não é uma solução efetiva, principalmente devido à dinâmica de entrada e saída dos nós na rede (\textit{churn}).

  \item Em CCN, requisitar cada pacote de dados pode introduzir uma significativa sobrecarga à rede, devido ao uso de largura de banda para transmitir a quantidade de pacotes de interesse proporcional à quantidade de pacotes de dados, aumentando a ocupação dos \textit{buffers} dos roteadores. Isto porque os nós precisam continuamente enviar pacotes de interesse para obter os próximos pacotes de dados, consequentemente os pacotes de interesse sempre disputarão o canal de transmissão com os pacotes de dados. Para sistemas de distribuição de mídias ao vivo isto pode ser crítico. Note que as requisições estão sujeitas às condições de rede do canal de \textit{upload} (do nó receptor ao nó transmissor, já que o nó cliente controla os serviços de transporte), aumentando-se a probabilidade de perdas de pacotes de interesse, consequentemente da recepção dos respectivos pacotes de dados. Esses cenários são típicos em serviços de conexões residenciais, onde os \textit{enlaces} são geralmente assimétricos em termos de largura de banda, por exemplo, ADSL. A perda de um pacotes de interesse aumenta o atraso em receber os pacotes de dados, pois os nós clientes devem retransmitir os pacotes de interesse, impactando diretamente em métricas como índice de continuidade e distorção da mídia. O índice de continuidade pode aumentar porque a perda de um pacote de interesse pode gerar várias perdas de pacotes de dados. No caso da distorção da mídia, um nó cliente pode até receber um pacote de dados (depois de retransmitir uma ou mais vezes os pacotes de interesse), porém o atraso de recepção pode ser alto suficiente ao ponto de não fazer mais sentido reproduzi-lo ao usuário final. Sendo assim, mesmo em cenários onde o canal de \textit{download} não esteja congestionado, os nós receptores também podem experimentar uma baixa qualidade de serviço devido às perdas de pacotes de interesse. No GMTP, manteve-se o conceito de estabelecimento de conexão, apesar de uma versão adaptada dos modos tradicionais, então uma vez estabelecida uma conexão, os nós clientes não precisam transmitir novas solicitações a todo instante a fim de obter os próximos pacotes de dados (\textit{push}).

  \item Ainda no contexto do item anterior, quando ocorre perda ou o atraso dos pacotes de interesse em CCN, a rede não será capaz de transmitir os pacotes de dados em tempo hábil ou nunca conseguir transmiti-los, uma vez que os mesmos podem expirar no \textit{cache} dos roteadores e portanto se tornarem inacessíveis. Nesse contexto, surgem alguns dilemas: qual é o melhor momento de desistir de requisitar um pacote de dados e requisitar o próximo. Como saber se o próximo pacote de dados foi gerado ou se a transmissão já terminou. Atualmente, existe um estudo sobre como introduzir uma função chamada de agregação de pacotes de interesse~\cite{6691438}. Nesse caso, um único pacote de interesse agregaria a requisição de múltiplos pacotes de dados. Entretanto, essa proposta ainda não é oficial e acarreta em outro problema. Por exemplo, a perda de um pacote de interesse agregado resultará na perda de múltiplos pacotes de dados, impactando diretamente na qualidade de serviço de uma aplicação de transmissão de mídia ao vivo. No ponto de vista prático, o usuário experimentará uma rajada de perda de pacotes de dados e a reprodução do conteúdo comprometida, impactando na métrica Índice de Continuidade.
% \footnote{Os pacotes de dados em CCN tem MTU de \ut{8800}{Bytes} ou de \ut{4096}{Bytes}, ao passo que em redes IP se utiliza MTU de \ut{1500}{Bytes} (geralmente).}
\end{enumerate}


Como base no resumo comparativo apresentado nesta seção entre os projetos GMTP, Denacast e CCN, a seguir, concentram-se as discussões em uma avaliação de desempenho do GMTP em um cenário de transmissão de uma mídia ao vivo.


\section{Avaliação de Desempenho}
\label{sec:metodologia}

Para realizar a comparação entre os sistemas supracitados, definiu-se a modalidade experimental em um ambiente de simulação de rede. Através da definição de uma topologia de rede que se aproxima do mundo real, das variáveis independentes e dos fatores, mediram-se e analisaram-se as principais métricas (variáveis dependentes) que determinam a satisfação do usuário ao assistir a um evento através de um sistema de distribuição de mídias ao vivo. Para isto, realizou-se um estudo detalhado do comportamento do GMTP, observando-o em diferentes configurações de rede, a fim de determinar suas vantagens, limites e os impactos que seus recursos podem gerar tanto sobre os nós quanto sobre a rede.

A seguir, apresentam-se detalhes do projeto experimental executado, organizado em objetivo e hipótese, topologia de rede, variáveis e fatores, população e amostras, tratamentos, instrumentação e formato da mídia.

\subsection{Objetivo e hipótese}
\label{subsec:objetivo-hipotese}

O objetivo do experimento foi avaliar o desempenho do GMTP com vista à hipótese enunciada de que a constituição de uma rede de favores entre roteadores que interceptam, realizam \textit{cache} temporário e compartilham pacotes de dados tanto em modo \textit{multicast} quanto em modo \textit{unicast}, auxiliados por nós servidores para determinar as parcerias com base em um algoritmo para controle de congestionamento assistido pela rede, resulta na distribuição mais eficiente (escala e qualidade) de mídias ao vivo.

Como apresentou-se no Capítulo~\ref{cap:mudccp}, o GMTP é uma instância dessa hipótese e, sendo assim, para validá-la, confrontou-se o GMTP com o Denacast e com o CCN-TV, obtendo-se valores objetivos para as métricas que determinam a qualidade de serviço dos sistemas de distribuição de mídias ao vivo.

% Em cada etapa, definiu-se uma hipótese nula ($H_0$) e uma hipótese alternativa ($H_A$), da seguinte forma:
% 
% \begin{enumerate}
% 
%   \item \textit{GMTP vs. Denacast}:
%   \begin{itemize}
% 
%     \item $H_0$: a eficácia do GMTP e a do Denacast é igual, considerando-se as métricas que determinam a qualidade de serviço para distribuição de mídias ao vivo.
% 
%     \item $H_A$: a eficácia do GMTP e do Denacast é diferente, considerando-se as métricas que determinam a qualidade de serviço para distribuição de mídias ao vivo.
% 
%   \end{itemize}
% 
%   \item \textit{GMTP vs. CCN/TV}: 
%   \begin{itemize}
% 
%     \item $H_0$: a eficácia do GMTP e do CCN-TV é igual, considerando-se as métricas que determinam a qualidade de serviço para distribuição de mídias ao vivo.
% 
%     \item $H_A$: a eficácia do GMTP e do CCN-TV é diferente considerando-se as métricas que determinam a qualidade de serviço para distribuição de mídias ao vivo.
% 
%   \end{itemize}
% 
% \end{enumerate}

\subsection{Topologia de rede}
\label{subsec:topologia}

Primeiramente definiu-se a topologia da rede, como ilustra-se na Figura~\ref{fig:rede-geant}. Simulou-se uma versão adaptada da atual rede GÉANT\footnote{Rede GÉANT é a rede de pesquisa e educação pan-europeia, que interliga as Redes Nacionais de Pesquisa e Educação da Europa (NRENs) atualmente com 41 roteadores. Para mais informações, acesse: http://www.geant.net/.}, composta por 27 roteadores. Na Seção~\ref{sec:tabela-atrasos-propagacao-rede}, apresentam-se as configurações de cada roteador e seus enlaces no tocante à largura de banda e atraso de propagação, com base na legenda da Figura~\ref{fig:rede-geant}.

\begin{figure}[b!ht]
\begin{center}
\includegraphics[scale=.49]{imgs/rede-geant.pdf}
\end{center}
\vspace{-0.8cm}
\caption{Versão adaptada do \textit{backbone} da rede GÉANT, com larguras de banda modificadas para ser utilizada no experimento.}
\label{fig:rede-geant}
\end{figure}

Com relação à conectividade dos nós clientes à rede, simularam-se redes locais através das quais os nós clientes estabeleceram conexões com os servidores. Para isto, foram geradas $27$ sub-grafos aleatórios de um grafo completo, com $12$ vértices (nós roteadores residenciais, por exemplo) e estabeleceu-se uma aresta entre dois vértices (enlace entre roteadores) da seguinte forma: iterou-se os $12$ roteadores dois-a-dois, sorteando-se um número \textit{x} $\in$ $[0,1]$. Com base no valor de \textit{x}, decidiu-se com probabilidade de \ut{60}{\%} estabelecer um enlace entre os dois roteadores correspondentes à cada iteração. Neste contexto, assegurou-se o estabelecimento de pelo menos um enlace para cada roteador e determinou-se uma largura de banda de \textit{download} de \ut{1}{Mbps} e atraso de propagação de \ut{1}{ms} entre todos os enlaces dessas redes locais geradas. Em seguida, para cada roteador do \textit{backbone} ilustrado na Figura~\ref{fig:rede-geant}, estabeleceu-se um enlace de \textit{download} de \ut{1}{Mbps} com um dos roteadores de uma das redes locais geradas (escolhida aleatoriamente dentre as $27$).

Por fim, os nós clientes foram distribuídos nas redes locais de forma sequencial, um para cada roteador até distribuir todos os clientes nas redes locais. Por exemplo, supondo-se um tratamento com $500$ nós clientes, o nó cliente $1$ foi conectado ao nó roteador $2$, o nó cliente $2$ foi conectado ao nó roteador $2$ e assim sucessivamente até atingir o $27^o$ roteador (conectando-se o nó cliente $27$), recomeçando-se a contagem do número de roteadores até atingir o número máximo de nós clientes determinado no respectivo tratamento. Desta forma, todos os sistemas foram submetidos às mesmas condições de distribuição dos nós cliente.

Como resultado dessa estratégia, simulou-se uma rede constituída por $324$ roteadores, utilizada na execução de todos os tratamentos do experimento. Com isto, garantiu-se que todos os sistemas avaliados fossem submetidos à mesma topologia de rede e alocação dos nós clientes.

\subsection{Definição das variáveis}
\label{subsec:variaveis}

As variáveis foram definidas em 3 categorias: independentes, fatores e dependentes.

\subsubsection{Variáveis independentes:}

Na Tabela~\ref{tb:variaveis-independentes}, apresentam-se as variáveis independentes utilizadas no experimento, com base na topologia da rede apresentada anteriormente.

\begin{table}[b!ht]
  \centering
  \caption{Variáveis independentes utilizados no experimento.}
  \renewcommand{\arraystretch}{1}% Spread rows out...
  \begin{tabular}{>{}m{2.8in} >{}m{3.1in}}
    \toprule
    \textbf{Parâmetros} & \textbf{Valores} \\
    \midrule
    Dinâmica da rede (\textit{churn})$^1$ & RandomChurn \\
    Número total de roteadores & 324 \\
    Número de nós roteadores (\textit{backbone}) & 27 \\
    Número de nós roteadores nas LANs & 12 \\
    Largura de banda entre LANs & \ut{2}{Mbps} \\
    Atraso de propagação das redes locais & \ut{1}{s} \\
    Atraso máximo aceitável para reprodução & \ut{5}{s} \\
    Tempo de simulação de cada ensaio & \ut{900}{s} \\
    Tamanho do \textit{buffer} (roteadores) & 100 pacotes (em média, 7s da mídia) \\
    Tamanho máximo do pacote de dados & \ut{1500}{Bytes}\\
    Taxa de upload dos roteadores das LANs & \ut{512}{Kbps}, \ut{1}{Mbps}, \ut{2}{Mbps}, \ut{3}{Mbps} \\
    Perda de pacote nos roteadores$^2$ & \ut{3}{\%} de probabilidade de perder \ut{5}{\%} da fila \\
    Tipo da mídia$^3$ & MPEG-4 Part II \\
    \bottomrule
  \end{tabular}
  \\\scriptsize\raggedright
  $^1$ Para mais detalhes, consultar Seção~\ref{subsec:tratamento}. \\
  $^2$ Em caso de perda dos \ut{5}{\%} dos pacotes na fila do roteador, os pacotes são escolhidos aleatoriamente, função acionada com o \textit{churn}. \\
  $^3$ Para mais detalhes, consultar Seção~\ref{subsec:tipomidia}.\\
  \normalsize
  \label{tb:variaveis-independentes}
\end{table}

Salienta-se que foram alocadas baixas larguras de banda de \textit{upload} e heterogêneas para os nós clientes se comparadas à taxa média de bits da mídia transmitida nos ensaios. Isto significa que todos tem uma baixa capacidade de compartilhar conteúdos com outros nós clientes parceiros, portanto transmitir pacotes de dados na direção \textit{upstream}, ou seja, ao servidor, pode tornar o desempenho da aplicação bastante reduzido, quando necessário transmitir pacotes de controle nessa direção. Cenários como estes são típicos na Internet.

\subsubsection{Fatores:}

Na Tabela~\ref{tb:fatores}, apresentam-se os fatores considerados no experimento. Os tratamentos foram determinados pelo produto cartesiano desses fatores.

\begin{table}[b!ht]
  \centering
  \caption{Fatores consideradas no experimento.}
  \renewcommand{\arraystretch}{1}% Spread rows out...
  \begin{tabular}{>{}m{2.2in} >{}m{3.6in}}
    \toprule
    \textbf{Fatores} & \textbf{Valores} \\
    \midrule
    Número de nós servidores & 1, 3, 5 \\
    Número de nós clientes$^1$ & 500; 1.500; 15.000; 30.000; 60.000; 80.000 \\
%     Suporte da rede ao protocolo$^2$ & Borda e Total \\
    \bottomrule
  \end{tabular}
  \scriptsize\raggedright
  \begin{spacing}{0.5}
    $^1$ Todos os clientes solicitaram a mídia nos primeiros \ut{200}{s} de cada ensaio. Mais detalhes na Seção~\ref{subsec:tratamento}.
%     $^2$ Apenas no confronto GMTP vs. CCN-TV. \textit{Borda:} suporte apenas nos roteadores conectados na borda da rede. \textit{Total:} suporte em todos os roteadores da rede.
  \end{spacing}  
  \label{tb:fatores}
\end{table}

\subsubsection{Variáveis dependentes:}

As principais métricas para medir um sistema de distribuição de mídias ao vivo podem ser organizadas em três categorias~\cite{5343509,4395124}, apresentadas a seguir. 

\begin{enumerate}

  \item \textit{Qualidade de serviço à aplicação:} avaliam-se o atraso para iniciar a reprodução da mídia após um cliente requisitá-la ao servidor (ST); o índice de continuidade (IC); e a distorção da mídia em comparação ao original (DI). Como ilustra-se na Figura~\ref{fig:medicao-qualidade-midia}, a variável ST é o tempo transcorrido entre um nó cliente requisitar a mídia, receber os primeiros pacotes de dados até ser capaz de produzi-los. O valor da variável IC corresponde à razão entre o número de pacotes de dados da mídia entregues ao nó cliente antes do momento de reproduzi-los e o número total de pacotes de dados transmitidos. Por fim, o valor da variável DI corresponde à razão entre o número de quadros com erros e o número total de quadros disponíveis para serem entregues em um certo período. Para efeito de cálculo das variáveis IC e DI, considerou-se apenas o período em que cada nó cliente permaneceu conectado à rede. Por exemplo (Figura~\ref{fig:medicao-qualidade-midia}), se um nó cliente $1$ se conectou no instante \ut{14}{s}, começou a receber os pacotes de dados reproduzíveis no instante \ut{19}{s} (ST=4) e foi desconectado no instante \ut{49}{s}, considerou-se apenas os pacotes de dados entre os instantes \ut{19}{s} e \ut{48}{s} para calcular os valores de CI e DI do nó cliente $1$. Além disso, podem ocorrer erros nos quadros de vídeo por dois motivos:

  \begin{enumerate}

    \item \textit{Atraso de chegada:} o nó cliente recebe pacote(s) de dados que corresponde a um quadro de vídeo correto, porém não é possível reproduzi-lo por ter chegado após o instante certo para a sua reprodução);

    \item \textit{Devido às perdas de dependência:} o nó cliente recebe pacotes de dados contendo partes de um quadro de vídeo, porém não é possível decodificá-lo devido à dependência de outro(s) quadro(s) indisponíveis, por exemplo, a perda de um quadro do tipo I em um GoP para o tipo de compressão MPEG. 

  \end{enumerate}

  Sendo assim, pode-se afirmar que a métrica \textit{Distorção da Mídia} está intimamente relacionada à métrica \textit{Índice de Continuidade}. A distorção representa a qualidade da mídia reproduzida ao usuário final, avaliando-se falhas nos quadros do vídeo recebido em relação ao original. Já o índice de continuidade é uma métrica que contabiliza o tempo em que os nós clientes não conseguiram sequer receber pacotes de dados da mídia, ou seja, interrupção completa da reprodução do conteúdo multimídia. Portanto, a interrupção na reprodução do vídeo resulta em \ut{100}{\%} de distorção dos quadros durante o referido período. A computação da distorção foi simples: todo pacote de dados contém o instante, duração e a quantidade de dados que devem ser reproduzidos, calculando-se a distorção com base na quantidade de dados que deveriam ter sido reproduzidos e o instante em que o pacote de dados alcançou o nó cliente. Por exemplo, se um pacote de dados que contém \ut{1000}{Bytes} a ser reproduzido entre o instante \ut{10}{s} e o instante \ut{15}{s} alcançou o nó cliente no instante \ut{12}{s}, considerou-se uma distorção de \ut{40}{\%}, pois teoricamente a cada segundo \ut{200}{Bytes} de dados deveriam ter sido reproduzidos, porém \ut{400}{Bytes} chegaram expirados.

  \begin{figure}[b!ht]
  \begin{center}
  \includegraphics[scale=.75]{imgs/medicao-qualidade-midia.pdf}
  \end{center}
  \vspace{-0.8cm}
  \caption{Exemplo de cálculo das variáveis dependentes ST, IC. Nesse caso, o valores ST = \ut{4}{s} e IC = \ut{70}{\%}.}
  \label{fig:medicao-qualidade-midia}
  \end{figure}

%   \item \textit{Escalabilidade do sistema:} avalia-se o nível de contribuição das redes CDN e P2P, que corresponde à quantidade de dados entregues aos nós clientes transmitidos diretamente pelos nós servidores (QS) da CDN e a quantidade de dados transmitidos entre parcerias de nós clientes da rede P2P (QP).

  \item \textit{Sobrecarga de controle:} avalia-se a quantidade de pacotes de controle (PC) transmitidos por um protocolo durante o tempo de simulação (contagem dos pacotes que não transportam dados da mídia), considerando-se 0,5 cada pacote de \textit{piggyback}. 

\end{enumerate}

Com base nessas métricas, determinou-se as variáveis dependentes, apresentadas na Tabela~\ref{tb:variaveis-dependentes}.

\begin{table}[b!ht]
  \centering
  \caption{Variáveis dependentes (respostas) consideradas no experimento.}
  \renewcommand{\arraystretch}{1}% Spread rows out...
  \begin{tabular}{>{}m{4.1in} >{}m{1.0in}}
    \toprule
    \textbf{Variáveis dependentes} & \textbf{Símbolo} \\
    \midrule
    Atraso de inicialização do fluxo & ST \\
    Índice de continuidade (\%) & IC \\
    Distorção da mídia (\%) & DI \\
%     Número de clientes com recepção acima de X\%$^1$ da mídia & ES \\
%     Número de conexões ao servidor & QS \\
%     Número de conexões entre clientes & QP \\
    Número de pacotes de controle & PC \\
    \bottomrule
  \end{tabular}
%   \scriptsize\raggedright
%   \begin{spacing}{0.5}
%     $^1$ As faixas dos valores de X são 0--20\%, 21--40\%, 41--60\%, 61--80\%, 91--100\%.\\
%   \end{spacing}
  \label{tb:variaveis-dependentes}
\end{table}


% Métricas:
%    - Atraso de inicialização do fluxo
%    - Índice de Continuidade / Quantidade de interrupções / tempo de recuperação (?)
%    - Distorção do conteúdo recebido em comparação ao transmitido
%    - Sobrecarga de controle
%    - Número de conexões no servidor / entre nós
%    - Número de nós clientes que receberam 90%, 80% e 70% da mídia do total de nós na rede
%    - Qualidade das parcerias, determinada pela taxa de transmissão entre o nó que compartilha e o nó que recebe: verifica se tinha um canal melhor (maior capacidade de transmissão se comparado ao canal utilizado) entre o nó provedor e o nó receptor.

% \subsection{Definição dos parâmetros do GMTP}
% 
% Olhar o capítulo 4 da tese da nandita para ver os valores dos parâmetros que ela usou
% ver a página 99 para discussões sobre os valores de alfa e beta
% 
% \begin{table}[b!ht]
%   \centering
%   \caption{Tabela dos parâmetros específicos do GMTP.}
%   \renewcommand{\arraystretch}{1}% Spread rows out...
%   \begin{tabular}{>{}m{2in} >{}m{2in}}
%     \toprule
%     \textbf{Parâmetros} & \textbf{Valores} \\
%     \midrule
%      &  \\
%      &  \\
%      &  \\
%     \bottomrule
%   \end{tabular}
%   \label{tb:gmpt-params}
% \end{table}

% % \subsubsection{Parâmetros dos sistemas estudados:}
% % 
% % Denacast
% % 
% % GMTP
% % 
% % CCN-TV


\subsection{População e amostras}

Constituiu-se a população por dados coletados durante a execução dos ensaios de acordo com às variáveis dependentes apresentadas na Tabela~\ref{tb:variaveis-dependentes}, com amostras coletadas a cada segundos. Como a duração de cada ensaio foi de \ut{900}{s}, coletou-se \ut{900}{} amostras e o valor final de cada variável dependente em cada ensaio foi determinado pela média aritmética das respectivas amostras.

% % \subsection{\textit{Design} de experimentos}
% 
% Como em uma rede de computadores erros frequentemente ocorrem nas transmissões, se fez necessário \textit{um design} de experimento com replicação. Assim o projeto de experimento escolhido obedece ao \textit{design} $2^k*r$, onde $k=3$ (três níveis) e $r=30$ (trinta replicações por tratamento).

\subsection{Tratamentos}
\label{subsec:tratamento}

Na Tabela~\ref{tb:tratamentos}, apresentam-se os tratamentos considerados no experimento, definidos com base na combinação dos fatores apresentados na Tabela~\ref{tb:fatores}. Definiu-se como as unidades experimentais o GMTP, o Denacast e o CCN-TV, comparados em confrontos dois-a-dois, fixando-se o GMTP, em execuções não simultâneas. Nesse contexto, executaram-se $3963$ ensaios distribuídos em $18$ tratamentos, $1321$ ensaios para cada sistema estudado. Na coluna $n_t$, apresenta-se a quantidade de repetições de cada tratamento. Além disso, os nós servidores foram dispostos nas redes com menor taxa de transmissão e/ou maior atraso de programação, que correspondem aos roteadores IL, LV e CY, ilustrados na Figura~\ref{fig:rede-geant}. Para consultar valores exatos de largura de banda e atraso de propagação, consulte a Tabela~\ref{tab:largura-atraso}.

\begin{table}[b!ht]
  \centering
  \caption{Tratamentos executados no experimento.}
  \renewcommand{\arraystretch}{1}% Spread rows out...
  \begin{tabular}{cccc}
    \toprule
    \textbf{Trat. \#} & \textbf{Número de nós servidores (conectado(s) a)} & \textbf{Número de nós clientes} & $\boldsymbol{n_t}$\\
    \midrule
    1  & \multirow{6}{*} {1 (IL)} & 500 & 58 \\
    2  &  & 1.500 & 61 \\
    3  &  & 15.000 & 56 \\
    4  &  & 30.000 & 51 \\
    5  &  & 60.000 & 84 \\
    6  &  & 80.000 & 51 \\ \hline
    7  & \multirow{6}{*} {2 (IL, LV)} & 500 & 112 \\
    8  &  & 1.500 & 79 \\
    9  &  & 15.000 & 73 \\
    10 &  & 30.000 & 88 \\
    11 &  & 60.000 & 95 \\
    12 &  & 80.000 & 86 \\  \hline
    13 & \multirow{6}{*} {3 (IL, LV, CY)} & 500 & 96 \\
    14 &  & 1.500 & 107 \\
    15 &  & 15.000 & 53 \\
    16 &  & 30.000 & 56 \\
    17 &  & 60.000 & 62 \\
    18 &  & 80.000 & 53 \\
    \bottomrule
  \end{tabular}
  \label{tb:tratamentos}
\end{table}

Com relação a execução de cada tratamento, executaram-se $50$ ensaios iniciais de cada sistema estudado, obtendo-se assim $50$ amostras para cada variável dependente. Em seguida, calculou-se a média dessas amostras e, para realizar comparações com \ut{95}{\%} de certeza, calculou-se a quantidade total de ensaios ($n_t$) de cada tratamento a fim de atingir este nível de confiança. Para isto, calculou-se a quantidade de ensaios necessários para obter \ut{95}{\%} de nível de confiança com base em duas médias (das amostras iniciais) $\mu_1,\mu_2$ de cada variável dependente, fixando-se $\mu_1$ como a média das variáveis dependentes do GMTP e $\mu_2$ a média ou do Denacast ou do CCN-TV. Sendo assim, a quantidade total de ensaios de cada tratamento foi determinado por $n_t = max(n_{ST}, n_{IC}, n_{DI}, n_{PC}) + 1$, onde os valores $n_{ST}, n_{IC}, n_{DI}, n_{PC}$ foram obtidos através da inequação de proporcionalidade para comparar duas alternativas~\cite{jain1991}. Por exemplo, se para o confronto GMTP vs. Denacast obteve-se $n_t = max(52, 67, \textbf{93}, 64) + 1$ e no confronto GMTP vs. CCN-TV obteve-se $n_t = max(55, 71, 75, 56) + 1$, assumiu-se $n_t = 94$. Ou seja, repetiu-se $94$ vezes o mesmo tratamento para todos os sistemas estudados. Na Seção~\ref{sec:ineq-proporcional}, apresentam-se mais detalhes sobre o cálculo de $n_t$.

Por fim, para a execução de cada ensaio para todos os tratamentos, independente do sistema a ser executado, determinou-se o seguinte:

\begin{enumerate}

  \item Configurou-se todos os nós clientes para enviar a requisição da mídia a um servidor escolhido aleatoriamente (distribuição uniforme), de modo que se conectaram os nós aos mesmos servidores. Sendo assim, garantiu-se que todos os sistemas avaliados foram submetidos às mesmas quantidades de requisições ao(s) nó(s) servidor(es).

  \item Definiu-se a taxa de \textit{upload} de cada nó cliente com base em uma escolha aleatória entre as seguintes opções: \ut{512}{Kbps}, \ut{1}{Mbps}, \ut{2}{Mbps} e \ut{5}{Mbps}. No gráfico da Figura~\ref{fig:graph_distribution_upload_rate}, representa-se a distribuição das taxas de \textit{upload} pela quantidade de nós. Dessa forma, assegurou-se que os nós clientes foram submetidos as mesmas capacidades de transmissão, independente do sistema avaliado. 

  \begin{figure}[b!ht]
  \begin{center}
  \includegraphics[scale=.5]{imgs/results/graph_distribution_upload_rate}
  \end{center}
  \vspace{-0.8cm}
  \caption{Distribuição da quantidade de nós clientes nos primeiros \ut{200}{s} de simulação. Cada ensaio teve uma distribuição diferente, mas igual para a execução de cada sistema.}
  \label{fig:graph_distribution_upload_rate}
  \end{figure}


  \item Todos os nós clientes requisitaram a mídia nos primeiros \ut{200}{s}. Por exemplo, no gráfico da Figura~\ref{fig:distribution_first_200s}, representa-se a distribuição de conexão à rede para o ensaio 1 de todos os tratamentos representada. Cada ensaio teve uma distribuição diferente, mas igual para a execução de cada sistema. Dessa forma, garantiu-se que os sistemas foram submetidos às mesmas condições iniciais de conexão. Na Seção~\ref{sec:distribution_first_200s}, discute-se mais detalhes sobre essa distribuição.

  \begin{figure}[b!ht]
  \begin{center}
  \includegraphics[scale=.5]{imgs/results/distribution_first_200s}
  \end{center}
  \vspace{-0.8cm}
  \caption{Distribuição da quantidade de nós clientes nos primeiros \ut{200}{s} de simulação. Cada ensaio teve uma distribuição diferente, mas igual para a execução de cada sistema.}
  \label{fig:distribution_first_200s}
  \end{figure}

  \item A função de \textit{churn} foi acionada no instante \ut{400}{s}. Por exemplo, no gráfico da Figura~\ref{fig:graph_distribution_churn}, representa-se a distribuição de conexões e desconexões para o ensaio 1 de todos os tratamentos. Cada ensaio teve uma distribuição diferente, mas igual para a execução de cada sistema. Com isto, garantiu-se que todas os sistemas avaliados foram submetidos às mesmas condições de dinâmica da rede. Na Seção~\ref{sec:distribution_churn}, discute-se mais detalhes sobre essa distribuição. 

  \begin{figure}[b!ht]
  \begin{center}
  \includegraphics[scale=.5]{imgs/results/graph_distribution_churn}
  \end{center}
  \vspace{-0.8cm}
  \caption{Distribuição da quantidade de nós clientes após os \ut{200}{s} de simulação, com variação a cada \ut{5}{s}, para o ensaio 1 de todos os tratamentos. Cada ensaio teve uma distribuição diferente, mas igual para a execução de cada sistema.}
  \label{fig:graph_distribution_churn}
  \end{figure}

\end{enumerate}


\subsection{Instrumentação}

Com relação à instrumentação, utilizou-se OMNet++~\cite{XU2011,omnetpp2014}, um arcabouço para construção de simuladores de rede. Nesse contexto, utilizaram-se dois simuladores: o OverSim~\cite{oversim2014} e o CCN-Sim~\cite{ccnsim2014}. No OverSim, utilizaram-se as implementações do sistema Denacast~\cite{denacast2014} e a do GMTP~\cite{gmtp2014} (implementado no contexto deste trabalho), ao passo que no CCN-Sim, utilizou-se a implementação do CCN-TV~\cite{ccntv2014}. Na Figura~\ref{fig:oversim-screen}, ilustra-se a tela principal do OMNet++ da execução de um dos ensaios com 1 servidor e 1.500 clientes.

\begin{figure}[b!ht]
  \begin{center}
  \includegraphics[scale=.25]{imgs/Brite_IPV4.png}
  \end{center}
  \vspace{-0.8cm}
  \caption{OMNet++ com a execução de um dos ensaios com 1 servidor e 1.500 clientes.}
  \label{fig:oversim-screen}
  \end{figure}

\subsection{Formato da mídia}
\label{subsec:tipomidia}

Na Tabela~\ref{tb:midia-props}, apresentam-se as propriedades da mídia utilizada no experimento~\cite{967596}.

% Na Figura~\ref{fig:starwars-bitrate}, ilustra-se um gráfico da taxa de bits dos primeiros \ut{200}{s} da mídia. O arquivo completo está disponível em~\murl{http://trace.eas.asu.edu/}.

% http://trace.eas.asu.edu/
% http://trace.eas.asu.edu/TRACE/trace.html
% http://trace.eas.asu.edu/TRACE/pics/FrameTrace/mp4/index597a.html
% http://www-tkn.ee.tu-berlin.de/research/trace/ltvt.html

\begin{table}[b!ht]
  \centering
  \caption{Propriedades da mídia transmitida.}
  \renewcommand{\arraystretch}{1}% Spread rows out...
  \begin{tabular}{>{}m{2in} >{}m{2in}}
    \toprule
    \textbf{Propriedades} & \textbf{Valores} \\
    \midrule
    Mídia sintetizada & \textit{Star Wars IV} \\
    \textit{Codec} do vídeo & MPEG-4 Part II \\
    Número de quadros & \ut{25}{fps} \\
    Número de quadros em GoP & 12 \\
    Média VBR & \ut{2}{Mbps} \\
    Tamanho total da mídia & \ut{122,61}{MB} (1-\ut{900}{s}) \\
    \bottomrule
  \end{tabular}
  \label{tb:midia-props}
\end{table}

\begin{figure}[b!ht]
\begin{center}
\includegraphics[natwidth=1737,natheight=724,scale=.21]{imgs/starwars-bitrate.png}
\end{center}
\vspace{-0.8cm}
\caption{Taxa de bits variáveis dos primeiros \ut{200}{s} da mídia utilizada no experimento (\textit{Star Wars IV}).}
\label{fig:starwars-bitrate}
\end{figure}

Com base na metodologia apresentada nesta seção, coletaram-se as amostras para as variáveis dependentes e realizou-se uma análise dos dados a fim de provar a hipótese enunciada na Seção~\ref{subsec:objetivo-hipotese}.

\section{Resultados e Discussões}
\label{sec:resdisc}

Nesta seção, apresentam-se os resultados e discussões dos confrontos GMTP vs. Denacast e GMTP vs. CCN-TV. A discussão foi organizada de acordo com as métricas apresentadas na Seção~\ref{subsec:variaveis}, ou seja, \textit{Atraso de Inicialização}, \textit{Índice de Continuidade}, \textit{Distorção da Mídia} recebida por cada nó cliente e \textit{Sobrecarga de Controle}. Em todos os gráficos apresentados a seguir, observam-se as evoluções dos sistemas estudados para 1, 2 e 3 nós servidores pela quantidade total de nós clientes, a saber, 500, 1.500, 15.000, 30.000, 60.000 e 80.000. A compilação de todas os valores obtidos para as métricas estudadas e os intervalos de confiança apresentados nos gráficos estão disponíveis na Seção~\ref{sec:tabela-compilacao-resultados}.

% A metodologia apresentada assegura uma análise dos resultados obtidos e discussões comparativas/conclusivas sobre o desempenho do GMTP em relação aos dois sistemas oponentes considerados, mas não garante estatisticamente comparações e portanto conclusões entre o Denacast e o CCN-TV.

Em geral, observa-se superioridade de desempenho do GMTP frente aos outros sistemas estudados, apesar de empates técnicos entre o GMTP e o CCN-TV em alguns tratamentos, como discute-se a seguir, especialmente até 30.000 nós clientes e 1 e 3 nós servidores. No caso do Denacast, observa-se que este obteve um desempenho inferior em comparação ao GMTP e ao CCN-TV. Nesse contexto, constatou-se que o Denacast se apresentou como linha base no experimento executado, sendo interessante para entender os limites de um exemplo do estado da prática em distribuição de mídias ao vivo, uma vez que se trata de uma proposta bastante difundida na Internet. De fato, parte dos resultados apresentados sobre o Denacast neste trabalho confirmam os resultados apresentados por seus autores em~\cite{5764567} e em~\cite{Jahromi2012}, com a diferença de que aqui se trabalhou com uma quantidade de nós clientes quase 60 vezes mais comparando-se com as referências citadas. Enfim, as disputas mais acirradas ocorreram no confronto GMTP vs. CCN-TV, exceto com relação à sobrecarga de controle, onde o CCN-TV obteve um desempenho inferior ao Denacast.

\subsection{Atraso de inicialização}
\label{subsec:result-startup_time}

\begin{figure}[b!ht]
\begin{center}
\includegraphics[scale=.8]{imgs/results/tratamentos-startup_time}
\end{center}
\vspace{-0.8cm}
\caption{Resultado dos tratamentos (1 -- 18) para a métrica \textit{Atraso de Inicialização}.}
\label{fig:tratamentos-startup_time}
\end{figure}

Na Figura~\ref{fig:tratamentos-startup_time}, observa-se uma tendência de crescimento suave e linear com relação ao atraso de inicialização em todos os tratamentos executados com o GMTP, à medida que se aumenta o número de nós clientes, com a curva mais acentuada nos tratamentos com apenas 1 nó servidor (tratamentos 1-6), sendo suavizada com a evolução dos tratamentos. Com o aumento do número de nós servidores, observam-se a redução do atraso médio de inicialização para os três sistemas estudados, constatando-se uma maior variabilidade entre número de servidores por parte do Denacast. No caso do GMTP e do CCN-TV, constataram-se melhorias à medida que foram adicionados mais nós servidores, porém com uma menor variação proporcional ao número de nós clientes. Por exemplo, no tratamento com 3 nós servidores, dobrando-se o número de nós clientes de 30.000 para 60.000, o desempenho do GMTP foi praticamente invariável. O que contribui para este fato é que quando há mais nós clientes requisitando a mesma mídia, aumentam-se as chances de um outro nó cliente obter os pacotes de dados a partir dos \textit{caches} dos nós repassadores, reduzindo-se a média da métrica \textit{Atraso de Inicialização}.

Para o caso do CCN-TV, apesar de ser possível constatar um comportamento similar, o CCN-TV teve um desempenho pior se comparado ao GMTP, especialmente a partir de 15.000 nós clientes. A razão para essa redução do desempenho por parte do CCN-TV com relação ao GMTP é que as redes CCNs utilizam uma estratégia de acesso ao conteúdo exclusivamente através do seu nome, indexado pela tabela FIB e compartilhada entre os roteadores da rede, como discutiu-se na Seção~\ref{subsec:ndn}. Como não há um nó servidor de referência no processo de requisição de um conteúdo, não tem como garantir que uma requisição rapidamente alcançará o nó servidor~\cite{6691438}. No caso do GMTP, reduz-se os pedidos de conexão ao nó servidor e reduz-se a média da métrica \textit{Atraso de Inicialização} porque, como já discutido, as requisições são transmitidas aos nós servidores e um nó repassador já compartilhando o conteúdo de interesse com outros nós clientes pode interceptar o pedido. Caso a interceptação não ocorra, o processo de registro de participação ocorre, mapeando-se as rotas até o servidor a fim de executar a função de seleção de nós parceiros baseada nas intersecções de rotas, tal como explicado na Seção~\ref{sec:descparc}. Obviamente que, para as primeira requisições transmitidas pelos nós clientes aos servidores GMTP, pode-se observar um maior atraso de inicialização, porém a média da métrica \textit{Atraso de Inicialização} reduz devido ao aumento das parcerias entre nós roteadores nas requisições subsequentes para obter a mesma mídia, aumentando-se as possibilidades de intersecções de rotas.

Para o caso do Denacast, um nó recém integrado à rede DONet pode levar muito tempo para obter os primeiros blocos de vídeo e assim iniciar a reprodução do conteúdo ao usuário final. Como pode-se observar através do gráfico ilustrado na Figura~\ref{fig:tratamentos-startup_time}, para obter os primeiros pacotes de dados multimídia, no tratamento 1, um nó cliente Denacast gastou, em média, \ut{23,51}{s}, \ut{13,71}{s} no tratamento 13 (melhor caso) e \ut{74,89}{s} no tratamento 6 (pior caso). Isto acontece porque, ao se juntar à rede, um nó solicita o mapa de \textit{buffer} a um conjunto de nós parceiros informados por um servidor de \textit{boostrap}. Porém, o desafio é definir a partir de qual ponto do \textit{buffer} um nó deve começar a solicitar os blocos de vídeo. Por exemplo, se o novo nó requisitar um bloco de vídeo muito antigo, pode ser que tal bloco de vídeo não esteja mais disponível, já que o nó cliente o remove após sua reprodução. Por outro lado, se o nó requisitar um bloco de vídeo muito recente, pode ser que nenhum de seus nós parceiros tenha disponível. No GMTP, situações como essas não ocorrem porque se utiliza, por padrão, o método \textit{push}, então há um estabelecimento de conexão (registro de participação) para em seguida receber os pacotes de dados.

Para sumarizar os resultados apresentados com relação à métrica atraso de inicialização, o GMTP obteve um desempenho de \ut{93,23}{\%} melhor que o Denacast e \ut{47,17}{\%} melhor que o CCN-TV. Para obter estes valores, calculou-se a média ponderada das diferenças dos intervalos de confiança para cada tratamento (considerando-se o limite superior do GMTP e o limite inferior dos outros sistemas confrontados). Atribuíram-se pesos entre 100 e 0,125, de acordo com a dificuldade do tratamento com relação aos fatores considerados no experimento. Por exemplo, atribuiu-se peso 100 ao tratamento 6 por se apresentar com a maior quantidade de nós clientes (80.000) e com a menor quantidade de nós servidores (apenas 1); o tratamento 5 recebeu peso 75 porque tem a mesma quantidade de nós servidores, mas \ut{75}{\%} da quantidade total de nós clientes com relação ao tratamento 6 (60.000). Considerando esse raciocínio, o tratamento 12 recebeu peso 33,33, pois apesar de também se apresentar com 80.000 nós clientes, utilizaram-se 3 nós servidores; e assim sucessivamente até o tratamento 18, que recebeu peso 0,125, por ser o mais simples, com apenas 500 nós clientes e 3 nós servidores. Este mesmo procedimento foi utilizado para sumarizar das demais métricas discutidas a seguir.

\subsection{Índice de continuidade}
\label{subsec:result-continuity_index}

\begin{figure}[b!ht]
\begin{center}
\includegraphics[scale=.8]{imgs/results/tratamentos-continuity_index}
\end{center}
\vspace{-0.8cm}
\caption{Resultado dos tratamentos (1 -- 18) da métrica \textit{Índice de Continuidade}.}
\label{fig:tratamentos-continuity_index}
\end{figure}

Apesar de importante, a métrica atraso de inicialização cobre apenas os instantes iniciais dos ensaios. Diferentemente disso, a métrica índice de continuidade é ainda mais importante e reveladora, pois mapeia o desempenho dos sistemas estudados durante todo o ensaio, a partir do instante em que os nós clientes começam a receber o primeiro pacote de dados, além de contabilizar as variações das métricas devido à dinâmica da rede, acionada no instante \ut{400}{s}. Sendo assim, avaliar a métrica índice de continuidade permite entender o impacto na qualidade de experiência do usuário final com relação à quantidade e duração das interrupções nas reproduções da mídia em cada nó cliente. Especificamente, os tratamentos 13 e 14 foram as disputas mais acirradas entre o GMTP vs. CCN-TV, sendo necessárias mais repetições dos respectivos tratamentos. Na Tabela~\ref{tb:tratamentos}, apresenta-se o número de repetições de cada tratamento.

Na Figura~\ref{fig:tratamentos-continuity_index}, apresenta-se a evolução da métrica índice de continuidade dos sistemas estudados para cada tratamento. Observa-se novamente melhor desempenho do GMTP frente ao Denacast e o CCN-TV, com a iminência de empates técnicos no confronto GMTP vs. CCN-TV quando se utilizaram até 15.000 nós clientes. 

No caso do GMTP, o desempenho foi melhor porque com o aumento do número de nós clientes requisitando a mesma mídia, aumentam-se também as chances de outros nós clientes obterem as partes da mídia a partir de um \textit{cache} de roteador e não diretamente do servidor. Este fenômeno também ocorreu com o CCN-TV, devido à estratégia de \textit{cache} de conteúdo nos roteadores, porém não supera o GMTP por dois motivos.

\begin{enumerate}

  \item Em uma rede CCN, deve-se propagar e/ou atualizar a FIB nos roteadores da rede à medida que novos pacotes de dados multimídia se tornam disponíveis nos servidores. O problema é que essa estratégia demanda tempo, já que os dados de uma mídia ao vivo são gerados instantes antes de sua transmissão. Então, primeiramente, em vez do nó servidor transmitir imediatamente o conteúdo gerado, este deve primeiro transmitir meta-dados sobre o conteúdo que está disponível, permitindo-se que os roteadores armazenem dados na FIB. A consequência crítica disso é que os nós clientes podem declarar pacotes de dados como perdidos com mais frequência, devido à expiração de reprodução, impactando diretamente no índice de continuidade. Além disso, se os pacotes não forem marcados como perdidos, há uma maior chance dos pacotes de dados chegaram com maior atraso aos nós clientes.

  \item Um dos grandes apelos das redes CCNs é a não necessidade de se manter estados de conexões nos servidores, transferindo-se as principais responsabilidades do transporte e controle de recursos para os nós clientes. Como discutiu-se na Seção~\ref{subsec:comparativo-gmtp-dena-ccn}, essa estratégia é mais eficiente em cenários de aplicação de conteúdo já armazenado, mas considerando-se mídias ao vivo, o desempenho das CCNs reduz consideravelmente. Como a CCN utiliza um modelo de serviço do tipo \textit{pull}, os nós clientes precisam continuamente transmitir pacotes de interesse para continuar recebendo o conteúdo multimídia, como discutiu-se nas Seções~\ref{subsec:ndn}. Com resultado, aumenta-se a quantidade de pacotes de controle transmitidos na rede (pacotes de interesse), os quais são submetidos às taxas de transmissões de \textit{upload} de cada nó cliente (em geral inferiores se comparadas as de \textit{download}), aumentando-se as chances de perdas desses pacotes ou significativos atraso de entrega, o que consequentemente atrasa a resposta dos pacotes de dados correspondentes à mídia.

\end{enumerate}

Dessa forma, observa-se uma vantagem do GMTP em se utilizar o modelo de serviço \textit{push/pull} em comparação às redes CCNs (\textit{pull}) para distribuir mídias ao vivo, pelo menos no que diz respeito a referida métrica. Especificamente, para todos os tratamentos, registrou-se valores da métrica de \textit{Índice de Continuidade} acima de \ut{96}{\%}, sendo \ut{99,55}{\%} para o melhor caso (Tratamento 9) e \ut{96,38}{\%} para o pior caso (Tratamento 6).

Outra constatação importante é que a adição de mais nós servidores aumenta o número de rotas com roteadores realizando \textit{cache} dos pacotes de dados da mídia e, nesse caso, o GMTP tem uma forma mais simples e eficiente de se aproveitar desse fato. Como discutiu-se na Seção~\ref{sec:ccgmtp}, a estratégia de seleção de nós parceiros do GMTP baseada na capacidade do canal de transmissão entre os nós roteadores, resulta no escalonamento de melhores parcerias, reduzindo-se o tempo de entrega dos pacotes de dados e consequentemente melhorando-se a métrica \textit{Índice de Continuidade}. Nesse sentido, por se tratar de roteadores, elimina-se o \textit{churn}, pois uma parceria entre dois roteadores é mantida temporariamente mesmo quando um dos roteadores passa a não ter mais clientes interessados pelo conteúdo, permitindo-se que o roteador ainda interessado pelo conteúdo busque por novas parcerias, durante o período de carência para novas parcerias (\textit{grace period for new partnerships}). Este assunto foi discutido na Seção~\ref{subsec:desconexao}

De forma similar à métrica \textit{Atraso de Inicialização}, o Denacast obteve o pior resultado se comparados aos outros dois sistemas para a métrica \textit{Índice de Continuidade}. Nesse caso, observam-se curvas acentuadas de redução dessa métrica, apesar de leves melhoras quando se aumentou o número de nós servidores e também quando se dobrou o número de nós clientes de 15.000 para 30.000. Observa-se que, quando se aumentou o número de nós clientes de 1.500 para 15.000, ou seja, dez vezes mais, houve uma redução considerável no desempenho do Denacast, registrando-se uma menor média da métrica \textit{Índice de Continuidade}. Apesar das melhorias observadas entre os tratamentos 9 e 10 e os tratamentos 15 e 16, mesmo aumentando-se a quantidade de nós servidores, o Denacast não obteve um desempenho satisfatório. Com isto, conclui-se que o Denacast apresenta problemas de escalabilidade a partir de uma certa quantidade de nós clientes, sendo influenciado pela dinâmica da rede.

Ainda no contexto do Denacast, seu principal limitante é a estratégia de sub-fluxos, pois se adiciona complexidade à solução sem necessariamente resultar em melhor desempenho quanto à escala de distribuição da mídia. Em~\cite{4509752}, os autores do CoolStreaming discutem que aumentar a quantidade de número de sub-fluxos não resultado em melhorias de algumas métricas, como o \textit{Índice de Continuidade}. Em um experimento em larga escala em uma rede real, com pico de 40.000 nós clientes e utilizando-se 24 servidores auxiliares (que funcionaram apenas como nós transmissores), os autores observaram que a partir de 12 sub-fluxos, a métrica índice de continuidade não evolui positivamente, constatando-se, para alguns casos, pior desempenho.

Para sumarizar os resultados apresentados com relação à métrica \textit{Índice de Continuidade}, o GMTP obteve um desempenho de \ut{37,89}{\%} melhor que o Denacast e \ut{9,01}{\%} melhor que o CCN-TV.

\subsection{Distorção da Mídia}
\label{subsec:result-distortion}

\begin{figure}[b!ht]
\begin{center}
\includegraphics[scale=.8]{imgs/results/tratamentos-distortion}
\end{center}
\vspace{-0.8cm}
\caption{Resultado dos tratamentos (1 -- 18) para a métrica \textit{Distorção da Mídia}.}
\label{fig:tratamentos-distortion}
\end{figure}

Uma outra métrica fundamental para medir grau de satisfação dos usuários finais pode ser avaliar a métrica \textit{Distorção da Mídia}, ou seja, uma comparação, quadro-a-quadro, da mídia recebida pelos nós clientes com relação à mídia original transmitida pelo nó servidor. Basicamente, as distorções podem ocorrer devido à chegada atrasada dos pacotes de dados ou por perdas de dependência, como discutiu-se na Seção~\ref{subsec:variaveis}. Apesar das perdas de pacotes de dados (por exemplo, perdas de quadros MPEG do tipo P ou B), ainda sim pode ser possível reproduzir certas partes do vídeo, porém com possíveis defeitos visuais. Sendo assim, se um ou mais pacotes de dados contiverem quadros do vídeo do tipo I, isto implica em interrupção da produção da mídia, impactando negativamente no índice de continuidade. Mas se os pacotes de dados contiverem quadros do vídeo do tipo P e/ou B, o impacto é na qualidade visual da mídia. Vale ressaltar que não foi considerado o uso de técnicas para adaptação de fluxo multimídia que possam melhorar o desempenho dos sistemas simulados.

Na Figura~\ref{fig:tratamentos-distortion}, apresenta-se a evolução dos sistemas estudados para a métrica \textit{Distorção da Mídia}. Evidencia-se que o GMTP obteve melhor desempenho se comparado ao Denacast e ao CCN-TV. Os principais motivos que fizeram o GMTP obter melhor desempenho frente ao CCN-TV para a métrica \textit{Índice de Continuidade} se estende ao caso da \textit{Distorção da Mídia}, com a diferença que ainda foi possível reproduzir parte de um pacote em atraso ou com quadros danificados.

A curva correspondente ao CCN-TV evidencia um desempenho similar ao GMTP nos tratamentos com poucos nós clientes, degradando-se à medida que o número de nós clientes aumenta. O motivo do baixo desempenho do CCN-TV no contexto da qualidade da mídia se explica pelo fato de que, quando um pacote de dados a ser reproduzido não chega ao nó cliente devido à perda, a única forma de tentar obtê-lo é retransmitindo um pacote de interesse. O problema é decidir em que instante se deve retransmitir um pacote de interesse para que seja suficiente ainda reproduzir os pacotes de dados correspondentes -- em CCN, não se oferecem garantias de que um pacote de interesse não será perdido até alcançar um roteador que possua o pacote de dados correspondente. Sendo assim, para sistemas de mídia ao vivo em CCN, os nós clientes precisam decidir o dilema entre perceber se um pacote de interesse alcançou um roteador, mas o pacote de dados foi perdido, ou se propriamente o pacote de interesse foi perdido e portanto um novo pacote de interesse deverá ser retransmitido em tempo suficiente para reproduzir o pacote de dados correspondente.

Dessa forma, pode-se afirmar que o modelo de serviço \textit{push/pull}, a estratégia de escalonamento de parcerias baseada na capacidade atual de transmissão dos canais e a baixa necessidade de troca de pacotes de controle do GMTP influenciam diretamente na qualidade da mídia recebida pelos nós clientes. O algoritmo de controle de congestionamento em CCN é baseado em janelas deslizantes, executado não apenas no envio dos pacotes dos dados por parte dos nós servidores, mas também no envio dos pacotes de interesse por parte dos nós clientes. Nesse sentido, limitando-se a quota de transmissão de pacotes de interesse devido à baixa capacidade de \textit{upload}, pode-se reduzir a quantidade de pacotes de dados a serem recebidos e reproduzidos ao usuário final -- se um cliente não consegue pedir, consequentemente não consegue receber.

Uma outra observação importante é que as operações de \textit{cache} do CCN-TV não oferecem benefícios significativos se os nós clientes passarem a transmitir mais pacotes de interesse para obter um mesmo pacote de dados -- a quantidade de pacotes de interesse que um roteador recebe não caracteriza o grau de urgência por um determinado pacote de dados. Dessa forma, por mais que se retransmita um pacote de interesse, motivado pelo fato de que o pacote de dados correspondente está prestes a ser reproduzido, não há garantias que i) o pacote de interesse não será perdido novamente e ii) que os pacotes de dados alcancem o nó cliente em tempo hábil para reproduzi-lo. Sendo assim, por mais que os roteadores CCN façam \textit{cache} de pacotes de dados, estes se tornam inúteis depois que expiram no roteador. Ou seja, não fará mais sentido retransmitir pacotes de interesse para obter e reproduzir os dados correspondente se o tempo para reproduzi-los já foi ultrapassado no cliente. Nota-se que é um desafio descobrir que os dados em \textit{cache} nos roteadores já expiraram, pois a CCN não oferece essa função aos clientes e os nós clientes precisam pedir os pacotes de dados a todo instante. A propósito, em CCN pode ocorrer o envio de pacotes de dados aos nós clientes já expirados, consumindo desnecessariamente recursos de rede com pacotes que serão simplesmente descartados no destino.

% Ainda no contexto do CCN-TV, quando um pacote de dados é perdido, faz-se necessário retransmitir um novo pacote de interesse a fim de obtê-lo novamente, porém os referidos pacotes de dados podem alcançar o nó cliente em um instante após o instante que deveriam ter sido reproduzidos, ou pode ocorrer a situação de um pacote de dados chegar, mas apenas parte dele poder ser reproduzido. A questão é que quando um nó cliente transmite um pacote de interesse não necessariamente este será prontamente transmitido na rede, pois o algoritmo de controle de congestionamento pode impedir seu imediato envio. Em outras palavras, quanto mais se demora transmitir um pacote de interesse, maior será o impacto na reprodução da mídia (interrupção ou distorção).

Além disso, salienta-se que o uso de \textit{cache} em CCN para o caso de distribuição de mídias ao vivo pode garantir apenas uma pequena redução na taxa de perda de pacotes. De fato, pelos recentes estudos apresentados pelos autores do CCN-TV~\cite{6550523}, constatou-se que a função de \textit{cache} das CCNs não representa uma função importante quando se trata de fluxos de dados ao vivo. Nesse contexto, argumenta-se que o uso da PIT ajuda a reduzir uma rajada de requisições ao nó servidor para obter um determinado conteúdo de interesse comum. Sendo assim, o que mais influencia na redução das distorções da mídia em CCN é a capacidade de transmissão e recepção dos nós clientes. Salienta-se ainda que os dados apresentados aqui foram obtidos sem o uso de qualquer tráfego de segundo plano, assim, o desempenho da rede CCN poderá ser ainda pior no contexto de transmissão de mídias ao vivo, considerando-se um cenário real de transmissão, quando múltiplos fluxos de dados são transmitidos com base em diferentes protocolos de transporte.
% Enfim, com relação ao CCN-TV, suas funções de controle de congestionamento e \textit{cache} são limitadas se comparadas à forma como estas duas funções são desempenhadas pelo GMTP. Desta forma, aumenta-se significativamente a distorção do conteúdo recebido pelos nós clientes, pois as respostas contendo pacotes de dados solicitados podem não alcançar os nós servidores em tempo hábil, apesar do pacote de interesse alcançar o nó roteador que mantém os dados da mídia.
Considerando-se as devidas proporções do cenário adotado, os resultados apresentados sobre a \textit{Distorção da Mídia} confirmam os resultados apresentados por seus autores em~\cite{6550523}.

Com relação ao Denacast, um fator predominante para o aumento médio da métrica \textit{Distorção da Mídia} é a estratégia de escalonamento de nós clientes parceiros. Nesse contexto, considera-se apenas o nó que detém um determinado conteúdo de interesse e sua capacidade de \textit{upload} para escalonar os nós clientes parceiros, o que ocorre com base em uma escolha aleatória, ao passo que a medição de capacidade de \textit{upload} é baseada na quantidade de pacotes perdidos. O problema é que, devido à dinâmica da rede, a capacidade de \textit{upload} dos nós podem mudar com frequência, resultando em seleção de nós parceiros de baixa qualidade, o que impacta diretamente na qualidade da mídia recebida pelos nós clientes. Enfim, considerando-se as devidas proporções de cenário adotado, os resultados obtidos para o Denacast confirmam os resultados apresentados por seus autores em~\cite{5764567}.

Para sumarizar os resultados apresentados com relação à métrica \textit{Distorção da Mídia}, o GMTP obteve um desempenho de \ut{25,26}{\%} melhor que o Denacast e \ut{13,03}{\%} melhor que o CCN-TV, considerando-se os limites mínimos e máximo do GMTP e dos seus oponentes, respectivamente.

% \subsection{Escalabilidade dos sistemas}
% 
% \begin{figure}[b!ht]
% \begin{center}
% \includegraphics[scale=.8]{imgs/results/tratamentos-server_connection}
% \end{center}
% \vspace{-0.8cm}
% \caption{Resultado dos tratamentos (1 -- 18) para a métrica \textit{Número de Conexões ao Servidor}.}
% \label{fig:tratamentos-server_connection}
% \end{figure}
% 
% \begin{figure}[b!ht]
% \begin{center}
% \includegraphics[scale=.8]{imgs/results/tratamentos-clients_connection}
% \end{center}
% \vspace{-0.8cm}
% \caption{Resultado dos tratamentos (1 -- 18) para a métrica \textit{Número de Conexões entre Clientes}.}
% \label{fig:tratamentos-clients_connection}
% \end{figure}
% 
% Nesta categoria, estudou-se o desempenho dos sistemas com foco na escalabilidade do número de nós clientes em relação às contribuições da rede CDN e da rede P2P.

\subsection{Sobrecarga de controle}

\begin{figure}[b!ht]
\begin{center}
\includegraphics[scale=.8]{imgs/results/tratamentos-packet_control}
\end{center}
\vspace{-0.8cm}
\caption{Resultado dos tratamentos (1 -- 18) para a métrica \textit{Número de Pacotes de Controle}.}
\label{fig:tratamentos-packet_control}
\end{figure}

Diferentemente das métricas anteriores, que são relacionadas à qualidade de serviço oferecida à aplicação, a sobrecarga de controle é uma relação de proporção entre a quantidade de pacotes de controle (sem dados de aplicação) e a quantidade de dados da aplicação que precisam ser transmitidos. Nesse contexto, um sistema $A$ é melhor que um sistema $B$ se $A$ transmite menos pacotes de controle que $B$ para disseminar a mesma quantidade de dados da aplicação. Dessa forma, mede-se a quantidade de pacotes de controle transmitido e contabiliza-se a quantidade de dados de controle transmitidos através da rede, com base no tamanho do cabeçalho de cada tipo de pacote. Como discutiu-se na Seção~\ref{subsec:tipodepacotesmudccp}, o pacote de controle do GMTP tem tamanho de \ut{52}{Bytes}; o da CCN \ut{40}{Bytes}~\cite{Perino:2011:RCC:2018584.2018596} e do Denacast \ut{36}{Bytes}, considerando-se os cabeçalhos da aplicação e do TCP~\cite{4509752} para esse último caso. Como no GMTP emprega-se um método de cabeçalho variável, seu valor para a métrica sobrecarga de controle foi obtido com base nos tipos dos pacotes transmitidos ao longo do ensaio, os quais estão detalhados no Apêndice~\ref{app:gmtp-cabecalhos}.

Neste contexto, na Figura~\ref{fig:tratamentos-packet_control}, apresenta-se a evolução dos sistemas estudados para a métrica sobrecarga de controle. Observam-se apenas dois tratamento (6 e 12) onde o CCN-TV foi melhor que o Denacast, com empate técnico entre estes no tratamento 5, ao passo que o GMTP obteve o melhor desempenho entre os três sistemas estudados.

Apesar de possuir o maior cabeçalho fixo por pacote de dados se comparado aos seus oponentes, o GMTP transmite, em média, uma quantidade de dados de controle menor porque utiliza o modelo de serviço do tipo \textit{push} e somente aumenta a quantidade de dados de controle quando necessário. Por exemplo, o processo de registro de participação é o instante em que se transmitem mais dados de controle, porém este procedimento ocorre somente no começo da transmissão. Além disso, alguns pacotes transmitidos para registro de participação são interceptados pelos nós roteadores, reduzindo-se antecipadamente o tráfego de controle. Para a topologia de rede utilizada no experimento, o tamanho máximo que um pacote GMTP atingiu foi de \ut{260}{Bytes}\footnote{Para os pacotes dos tipos \pac{GMTP-Request-Reply} e \pac{GMTP-Route-Notify}.}, porém somente 27 pacotes de controle desse tipo foram transmitidos em cada ensaio, dos quais 12 foram interceptados antes de atingir o tamanho de \ut{260}{Bytes}. Sendo assim, quando se utilizam pacotes de controle maiores do que tamanho fixo, a quantidade correspondente é insignificante.

No caso do CCN-TV, seu desempenho inferior se deve às muitas retransmissões de pacotes de controle, devido às perdas ou limitações de controle de congestionamento no canal de \textit{upstream}. Como em redes CCN os nós clientes precisam transmitir pacotes de interesse periodicamente, aumentam-se as chances de perdê-los, principalmente em condições de congestionamento intenso na rede. Por exemplo, no tratamento 18, para alcançar o desempenho discutido anteriormente para as métricas \textit{Atraso de Inicialização}, \textit{Índice de Continuidade} e \textit{Distorção da Mídia}, os nós CCN-TV tiveram que transmitir \ut{9,24}{MB} de dados de controle, o que corresponde à \ut{7,25}{\%} da quantidade total de dados da aplicação, que foi de \ut{122,61}{MB} e corresponde ao tamanho total da mídia transmitida. Já com o uso do GMTP, seus nós transmitiram quase dez vezes menos dados de controle para o mesmo tratamento, ou seja, apenas \ut{995,31}{KB}. Considerando-se os resultados de todos os tratamentos apresentados no gráfico da Figura~\ref{fig:tratamentos-packet_control} e as devidas proporções de cenário, os resultados apresentados aqui confirmam os resultados apresentados pelos autores do CCN-TV em~\cite{6550523}.

Além dos motivos apresentados anteriormente, na prática, uma rede CCN pode aumentar significativamente a sobrecarga de controle porque precisa verificar a expiração do \textit{cache}. No caso do GMTP, as partes da mídia armazenadas nos \textit{caches} dos repassadores são substituídas à medida que novos pacotes de dados são gerados pelos nós servidores e chegam aos nós repassadores. Além disso, no GMTP, propõe-se que seja possível uma aplicação informar quanto de espaço em \textit{buffer} é necessário para transmitir a mídia, ao passo que cada repassador no caminho entre o cliente e o servidor pode alocar o tamanho solicitado, desde que não ultrapasse um valor limite determinado pelo usuário administrador do roteador, evitando-se transbordo de fila de repasse.

No caso do Denacast, observa-se uma maior dependência com relação à quantidade de nós servidores disponíveis e o número de nós cliente interessados pela mídia, apesar de seu desempenho ter sido melhor que o CCN-TV na maioria dos casos. Quanto maior é o número de nós clientes, trocam-se mais dados de controle, apesar de se constatar uma discreta diminuição do crescimento da curva, à medida que se adicionaram mais nós servidores na rede. Esse desempenho do Denacast ocorre em virtude de algumas estratégias adotadas em seu protocolo. A primeira estratégia é o mecanismo de sub-fluxo, exigindo-se que os nós clientes troquem mais pacotes de controle para transmitir os mapas de \textit{buffer}. A segunda estratégia está relacionada aos mapas de \textit{buffer} que, apesar de poderem ser compartilhados entre os nós clientes, cada compartilhamento requer uma conexão TCP, o que eleva sobremaneira a quantidade de conexão e consequentemente a quantidade de dados de controle, à medida que se aumenta o número de nós clientes. E, por fim, a terceira estratégia está relacionada à manutenção da rede \textit{mesh} constituída pela CoolStreaming para distribuir os dados multimídia. Nesse caso, os nós clientes no CoolStreaming devem frequentemente se comunicar com seus pares atuais e candidatos, a fim de manter a rede de sobreposição atualizada. Se isto não for feito, os nós clientes não poderão encontrar rapidamente novos nós parceiros em caso de finalização de uma das suas parcerias atuais~\cite{Shen:2009:HPN:1734068}.

Atualmente, existem pesquisas relacionadas a reduzir a quantidade de pacotes de interesse em transmissões de dados através das redes CCNs. A questão primordial em se tratando de mídias ao vivo é que os nomes dos pacotes de dados são gerados instantes antes de sua transmissão; então, mesmo que se utilize uma estratégia de indexação sequencial dos próximos pacotes de dados, ainda assim se faz necessário que os nós clientes continuem transmitindo os pacotes de interesse periodicamente, como discutiu-se anteriormente.

Para sumarizar os resultados apresentados com relação à métrica sobrecarga de controle, o GMTP obteve um desempenho de \ut{177,05}{\%} melhor que o Denacast e \ut{165,94}{\%} melhor que o CCN-TV. Esses valores expressivos também evidenciam a importância de se propor uma solução nas camadas inferiores da pilha TCP/IP, podendo melhorar sobremaneira o consumo da rede com demasiados dados de controle, muitas vezes transmitidos pelas aplicações para suprir limitações de serviços que deveriam estar disponíveis nas camadas corretas. Além disso, esse resultado demonstra a importância de se propor um protocolo exclusivo para distribuição de fluxos de dados multimídia, justificado pelas peculiaridades de requisitos da aplicação.

\section{Sumário do Capítulo e dos Resultados}
\label{sec:resdisc-sumario}

Neste capítulo, apresentaram-se os resultados obtidos neste trabalho com base em confrontos do GMTP frente ao Denacast (estado da prática) e ao CCN-TV (estado da arte), seguindo duas perspectivas: projeto e desempenho.

Na análise de projeto, discutiu-se brevemente sobre o projeto GMTP, contrapondo-se suas funcionalidades e as dos respectivos oponentes estudados. Já na análise de desempenho, estudaram-se as referidas propostas sobre a perspectiva da qualidade de serviço (atraso de inicialização, índice de continuidade e distorção) oferecida à aplicação e a sobrecarga de controle necessária para distribuir um conteúdo multimídia com requisitos de tempo real e sem garantia de entrega. Neste caso, apresentou-se a metodologia empregada no experimento realizado e em seguida estudou-se o desempenho dos sistemas com base nos valores aferidos para as principais métricas. A topologia de rede e os parâmetros determinados condizem com um cenário representativo da realidade, o que culminou em testes mais reais para entender os limites dos sistemas estudados. Nesse contexto, constatou-se que em níveis críticos de congestionamento da rede e com um número elevado de nós clientes, as soluções disponibilizadas na camada de aplicação, como o Denacast, têm um desempenho significativamente inferior àquelas baseadas no núcleo da rede, como é o caso do CCN-TV e do GMTP.

\begin{table}[b!ht]
  \centering
  \caption{Sumário dos ganhos do GMTP sobre o Denacast e o CCN-TV.}
  \renewcommand{\arraystretch}{1}% Spread rows out...
  \begin{tabular}{rcccccccc}
    \toprule
    \multicolumn{1}{c}{\multirow{2}{*}{\textbf{Métricas}}} & \multicolumn{8}{c}{\textbf{Ganhos do GMTP por Confrontos}}\\
    & \multicolumn{4}{c}{GMTP vs. Denacast} & \multicolumn{4}{c}{GMTP vs. CCN-TV} \\
    \midrule
    Atraso de Inicialização & \multicolumn{4}{c}{\ut{93,22}{\%}} & \multicolumn{4}{c}{\ut{47,17}{\%}} \\
    Índice de Continuidade & \multicolumn{4}{c}{\ut{37,88}{\%}} & \multicolumn{4}{c}{\ut{9,01}{\%}} \\
    Distorção da Mídia & \multicolumn{4}{c}{\ut{25,26}{\%}} & \multicolumn{4}{c}{\ut{13,03}{\%}} \\
    Sobrecarga de Controle & \multicolumn{4}{c}{\ut{177,05}{\%}} & \multicolumn{4}{c}{\ut{165,94}{\%}} \\
    \midrule
%     \textbf{Média aritmética} & \multicolumn{4}{c}{\ut{83,36}{\%}} & \multicolumn{4}{c}{\ut{58,17}{\%}} \\
    Média aritmética & \multicolumn{4}{c}{\ut{83,36}{\%}} & \multicolumn{4}{c}{\ut{58,70}{\%}} \\
    \textbf{Média ponderada$^1$} & \multicolumn{4}{c}{\textbf{\ut{61,44}{\%}}} & \multicolumn{4}{c}{\textbf{\ut{36,27}{\%}}} \\
    \bottomrule
  \end{tabular}
  \\\scriptsize\raggedright
  $^1$ Para obter os referidos valores, calculou-se a média ponderada com pesos (2, 3, 3, 1) para as métricas atraso de inicialização, índice de continuidade, distorção e sobrecarga de controle, respectivamente. Esses pesos foram definidos com base na importância de cada métrica no processo de distribuição de mídias ao vivo. \\
  \normalsize
  \label{tb:sumario-resultados}
\end{table}

De fato, as disputas mais acirradas ocorreram entre o GMTP e o CCN-TV, evidenciando-se que a arquitetura e decisões de projeto, como o modelo de serviço utilizado, são aspectos que podem fazer diferenças significativas no desempenho dos sistemas para distribuir mídias ao vivo. Nesse contexto, sumarizam-se na Tabela~\ref{tb:sumario-resultados}, os ganhos do GMTP sobre o Denacast e o CCN-TV, discutidos ao longo deste capítulo. Considerando-se os resultados para cada uma das métricas, com base em simulação de um cenário real de rede, reservando-se suas devidas proporções, pode-se afirmar que o GMTP apresenta um melhor desempenho se comparado às soluções do estado da prática e uma proposta do estado da arte.

Sendo assim, como o GMTP é uma instância da hipótese enunciada e perseguida neste trabalho, pode-se afirmar com \ut{95}{\%} de nível de confiança que seu uso resulta na distribuição mais eficiente de mídias ao vivo em comparação a duas proeminentes propostas, uma considerada do estado da prática (Denacast) e a outra do estado da arte (CCN-TV). Especificamente, melhora-se o desempenho dos sistemas de distribuição de mídias ao vivo em \ut{61,44}{\%} em comparação às técnicas de aplicações baseadas em uma arquitetura P2P/CDN, ao passo que melhora-se \ut{36,18}{\%} em comparação às técnicas de distribuição de conteúdo com suporte da rede, instanciadas com base nos conceitos da rede CCN, uma das mais importantes propostas do estado da arte.
 
% - COLOCAR ALGUM (2 NA VERDADE) GRÁFICO NA PROBLEMÁTICA ENTRE O DENACAST/CoolStreaming e o NDN (provavelmente o gráfico de distorção). O PRIMEIRO SERIA O GRÁFICO DA DISTORÇÃO E O SEGUNDO DA SOBRECARGA DE CONTROLE, DIZENDO QUE O CCN PERDE PARA ALGUMAS SOLUÇÕES DO ESTADO DA PRÁTICA.
% - Melhorar o capítulo do GMTP em uma coisas: seleção dos melhores caminhos com base na capacidade atual do canal (o problema que pode ocorrer é de flash-crowd)