\chapter{Introdu\c{c}\~{a}o}
\label{cap:introducao}

% - BUSCAR REFERENCIAS CONTUNDENTES DE QUE AS APLICAÇÕES FAZEM TUDO EMCIMA
% -
% http://www.businessinsider.com/cisco-predicts-mobile-2013-5#heres-where-to-find-
% more-facts-about-the-growth-of-the-internet-30

% http://www.cisco.com/en/US/netsol/ns827/networking_solutions_sub_solution.html

% \begin{center}
%     \begin{minipage}{300pt}
%     \small
%     \centering
%       ``Controle de congestionamento está relacionado a como usar a rede da
% forma mais efetiva quanto possível. Atualmente as redes estão super equipadas
% e
% a pergunta mudou de \emph{como eliminar o congestionamento da rede?} para
% \emph{como utilizar de forma eficiente toda a capacidade disponível da
% rede?}''
% (Michael Welzl)
%     \end{minipage}
% \end{center}
% \vspace{1cm}

Nos últimos anos, tem ocorrido uma revolução com relação às formas de criação e
transmissão de mídias (áudio e/ou vídeo) na Internet. O número crescente de
conexões de banda larga à Internet têm provocado o aumento do consumo e da
exigência de qualidade dos conteúdos multimídia, que eleva os custos com
largura de banda dos distribuidores de conteúdo. Por exemplo, o
YouTube\texttrademark\space registra um custo operacional com largura de banda
da ordem de \ut{US\$1}{milhão} por mês para atender cerca de 20 milhões de
usuários por dia, para transmitir o equivalente a 60 mil anos de vídeos se
fossem reproduzidos sequencialmente~\cite{5506093}. Estima-se que em 2014 o
tráfego de video será maior do que foi o tráfego de redes entre pares (P2P) para
compartilhamento de arquivos em 2009, correspondendo a \ut{39}{\%} do tráfego de
dados total na Internet. Além disso, estima-se que o tráfego de VoIP, vídeo e
jogos na Internet atingirá a marca de 40 exabytes por mês, quase \ut{50}{\%} do
tráfego de dados total na Internet previsto para 2014~\cite{5604156}. Segundo um
estudo da empresa Cisco\texttrademark, estima-se que em 2016 cerca de 1,2
milhão de minutos serão transmitidos pela Internet a cada segundo -- o
equivalente a 833 dias ou mais de dois anos~\cite{cisco2012-report}.

% estima-se que o tráfego IP em redes públicas e privadas gerados por consumidores
% e usuários corporativos deve crescer a uma taxa anual composta (CAGR) de
% \ut{29}{\%} até 2016, devido principalmente à forte demanda por vídeo e ao
% crescimento do uso de smartphones, tablets e TVs com Internet. A partir de 2016,
% o tráfego IP global anual será de 1,3 zetabyte (1 trilhão de gigabytes ou 38
% milhões de DVDs por hora). O aumento projetado do tráfego IP global somente
% entre 2015 e 2016 será de mais de 330 exabytes, valor quase igual à quantidade
% total do tráfego IP global gerado em 2011, que foi de 369 exabytes. Esse aumento
% significativo no tráfego e na penetração de serviços é motivado por diversos
% fatores, como o número cada vez maior de dispositivos móveis e as conexões P2P.
% Segundo o estudo, em 2016, haverá aproximadamente 18,9 bilhões de conexões de
% rede -- quase 2,5 conexões para cada pessoa no planeta -- em comparação com os
% 10,3 bilhões registrados em 2011.

Com a evolução da WWW (\textit{World Wide Web}) para a Web
2.0~\cite{4287373,4198260}, os usuários passaram a ter um papel de destaque no
processo de prover alguns serviços. Um exemplo notório é o serviço de
distribuição de conteúdos multimídia, sejam serviços onde as empresas
disponibilizam conteúdos armazenados, como o YouTube e Netflix\texttrademark, ou
principalmente os casos de transmissões empresariais e residenciais ao vivo,
como o PPLive\texttrademark\space e o UStream.tv\texttrademark. Nesses últimos
casos, os sistemas permitem a transmissão de conteúdos ao vivo gerados a partir
do computador de um usuário para milhares de outros usuários conectados à
Internet~\cite{Silva:2011:LSU:2048614.2048874}. O sistema recebe mais de 50
milhões de acessos e transmite 1,5 milhão de horas de vídeo ao vivo por mês, com
mais de 2 milhões de usuários cadastrados e um dos
canais\footnote{\murl{http://www.ustream.tv/decoraheagles}. O nome do canal é
\textit{Decorah Eagles}, um acentamento de águias, localizado em Decorah,
Iowa.} com mais de 284 milhões de acessos entre 2010 e fevereiro de 2014, com um
pico de 100 milhões de acessos em uma semana. Outro caso é o da
NASA.TV\footnote{\murl{http://www.ustream.tv/nasa}} (\textit{National
Aeronautics and Space Administration Television}), que em 2011 migrou todos seus
canais ao vivo na Internet para o UStream.tv, com mais de 25 milhões de acessos
em fevereiro de 2014.

Ao observar essas e outras
estatísticas~\cite{Silva:2011:LSU:2048614.2048874,tiinsideonline2008,Scott2008,Franchi2009,Kirkpatrick2008,Gannes2009},
o que preocupa é o crescimento acentuado do consumo de recursos computacionais
de rede resultante principalmente das estratégias e protocolos de rede adotados
para realizar a distribuição dos conteúdos multimídia, cada um com suas próprias
soluções~\cite{4644134,4265615,1597229,5954942,4357727,5712185}. No final do
primeiro semestre de $2011$, um artigo publicado no \textit{Financial Post}
chamou atenção ao \aspas{\textit{anunciar momentos de grandes congestionamentos
na Internet nos próximos anos}}~\cite{netflix-king,sandvine-netflix-report}.
Destacou-se a Netflix como sendo a maior consumidora de banda de rede da América
do Norte, respondendo por \ut{24,71}{\%} de todos os dados transferidos durante
o horário de pico de uso da Internet por norte-americanos, ultrapassando até
mesmo a rede BitTorrent\texttrademark\space de compartilhamento de arquivos,
como ilustra-se na Figura~\ref{fig:network-traffic1-1}. \aspas{\textit{A questão
é que se não fosse a Netflix, teria sido a Amazon\texttrademark, se não fosse a
Amazon teria sido o Google\texttrademark, mas o verdadeiro e iminente problema
de congestionamento da rede começará quando todos passarem a fazer isto.}},
afirmou Colin Gillis, analista sênior de tecnologia da BGC Partners\footnote{BGC
Partners: http://www.bgcpartners.com/}.

\begin{figure}[htbp]
  \begin{center}
    \subfigure[Percentual de consumo de dados transmitidos e recebidos por
aplicação.\vspace{0.5cm}] {
      \label{fig:network-traffic1-1}
	  \includegraphics[scale=0.47,
	      natwidth=620,natheight=432]{imgs/network-traffic1-2.png}
    }

    \subfigure[Tráfego de Internet em redes de acesso de banda
larga.] {
      \label{fig:network-traffic1-2}
	  \includegraphics[scale=0.4,
	      natwidth=620,natheight=744]{imgs/network-traffic1-1.png}
    }
  \end{center}
  \caption[Perfil de Tráfego de Rede da América do Norte durante o horário de
pico.]{Perfil de Tráfego de Rede da América do Norte durante o horário de pico
(considerando-se redes fixas)~\cite{netflix-king}.}
  \label{fig:network-traffic1}
\end{figure}

Essa discussão se generaliza em um relatório publicado pela empresa de
consultoria Sandvine, onde se menciona que \aspas{\textit{com o rápido
sucesso da Netflix, YouTube, UStream e outros, os provedores de Internet em todo
o mundo devem se preparar para um futuro em que serviços de multimídia ao vivo
será disponibilizado em grandes proporções, podendo ser responsável pela maior
fatia do tráfego de dados na Internet}}~\cite{sandvine-netflix-report}. De
acordo com o que foi publicado nesse relatório, serviços ao vivo de
entretenimento foram responsáveis por quase metade (\ut{49,2}{\%}) de todo o
tráfego de Internet na América do Norte no primeiro trimestre de $2011$, como
ilustrado-se na Figura~\ref{fig:network-traffic1-2}. Este número alcançou
\ut{60}{\%} no final de $2011$ e \aspas{\textit{o fato é que o volume de tráfego
na Internet cresce exponencialmente e o congestionamento da rede tende a piorar.
As pessoas sabem o que está acontecendo, mas está acontecendo mais rápido do que
elas esperavam.}}, comentou Tom Donnelly, vice-presidente da Sandvine.

Nesse contexto, nota-se que o panorama atual dos serviços de distribuição de
conteúdos multimídia ao vivo se apresenta em fase de grande expansão,
principalmente no que diz respeito ao interesse dos usuários e ao super consumo
dos recursos de rede. Por isto, há uma grande motivação para estudar e propor
novas soluções para utilizar eficientemente as redes de computadores a fim de
melhorar os serviços de distribuição multimídia na
Internet~\cite{5559372,5430138}.

\section{Delimitação e Argumentos}
\label{sec:delimitacao}

O ponto de partida no contexto deste trabalho são os protocolos de rede
utilizados nos sistemas baseados em uma arquitetura de rede híbrida P2P/CDN, ou
seja, par-a-par (\textit{Peer to Peer} -
P2P)~\cite{Li2008,4251077,6295665,4378429} e
cliente-servidor com suporte de uma rede de distribuição de conteúdos
(\textit{Content Delivery Network} - CDNs)~\cite{1250586,1323289,939452}. Isto
porque há evidências contundentes
~\cite{6121327,Xu04acdn-p2p,Dongyan2006,Meskovic2012,4012578,Huang:2008:UHC:1496046.1496064,6035830,5764567,5343509,4797271}
de que se trata da principal escolha dos sistemas mais robustos, conseguindo-se
escalabilidade do número de usuários e redução de custos com infra-estrutura de
rede, por meio das redes P2P; ao passo que se consegue facilidade no
gerenciamento e maior estabilidade de disponibilização dos serviços, por meio
das CDNs.

Nesse tipo de arquitetura de rede, os servidores da CDN atuam como super nós
para a rede P2P, ao passo que os nós da rede P2P cooperam entre si a fim de
disseminar mais rapidamente os datagramas, reproduzindo-os também localmente. Do
ponto de vista de protocolos de rede, utiliza-se conexões TCP
(\textit{Transmission Control Protocol})~\cite{4346548} para
selecionar os nós parceiros e para troca de mapas de \textit{buffers}, que
servem para indexar quais nós possuem quais partes da mídia; ao passo que
utiliza-se o UDP (\textit{User Datagram Protocol})~\cite{comer2004} para
transmitir datagramas contendo as partes da mídia e exibi-las ao usuário final.
Um aspecto importante para esses sistemas é definir de que forma os nós devem
escalonar o uso de seus recursos de forma que a alocação seja a mais eficiente
possível, evitando-se sobrecarga nos servidores da CDN e nos canais de
comunicação.

Em sistemas dessa natureza, ilustrado na Figura~\ref{fig:esquema-p2p-cdn},
os nós estão sempre acessando e disponibilizando recursos uns dos outros, ao
mesmo tempo que os servidores da CDN organizam os nós da rede P2P e mantém os
serviços de distribuição mais estáveis, tornando o sistema menos vulnerável ao
dinamismo de participação dos nós de uma redes P2P, também conhecido por
\textit{churn}~\cite{Stutzbach:2006:UCP:1177080.1177105,5502009}.

% chegada e partida de nós, tempo de disponibilidade, heterogeneidade quanto a
% capacidade de \textit{download} e \textit{upload} etc.

\begin{figure}[h]
\begin{center}
\includegraphics[scale=0.525]{imgs/esquema-p2p-cdn.pdf}
\end{center}
\vspace{-1.5cm}
\caption[Esquema de uma arquitetura híbrida P2P/CDN para distribuição de
conteúdo multimídia.]{Estrutura de rede de uma arquitetura híbrida
P2P/CDN para distribuição de conteúdo multimídia.}
\label{fig:esquema-p2p-cdn}
\end{figure}

Isto posto, os cenários de aplicação considerados neste trabalho são os que
apresentam um nó de rede gerador de um conteúdo multimídia e milhares de nós
receptores, estabelecendo portanto uma relação \mys. Tais aplicações
possuem uma característica em comum: a existência de muitos usuários
interessados por um mesmo conteúdo e pouco ou nenhum dado individualizado, ou
seja, que precisa ser transmitido apenas para um usuário ou um grupo restrito
deles. Esta característica leva as seguintes peculiaridades:

\begin{enumerate}
 \item o usuário de um potencial nó contribuidor tem que expressar interesse em
um determinado evento no instante da sua ocorrência e não quando já possui o
conteúdo a ser compartilhado, como nos sistemas P2P de compartilhamento de
arquivo. Além disso, as parcerias são realizadas entre os nós com interesses
comuns por um único conteúdo e não por múltiplos conteúdos ao mesmo tempo;

 \item quando o usuário de um potencial nó contribuidor não tem interesse em um
conteúdo, a aplicação, na maioria das vezes, não é executada e portanto a
dependência pelo oportunismo é mais crítica do que nos sistemas de
compartilhamento de arquivos. Isto torna a rede mais dinâmica e consequentemente
os serviços mais instáveis -- há um impacto direto nos parâmetros que determinam
a experiência do usuário ao reproduzir um conteúdo multimídia devido ao aumento
do \textit{churn};

 \item o estado do mapa de \textit{buffer} de reprodução de cada nó da rede é
semelhante, pois não existe a possibilidade de um nó ter um mapa de
\textit{buffer} com muito mais dados para reproduzir do que outros nós.
Da mesma forma, não faz sentido manter por muito tempo dados já reproduzidos no
\textit{buffer} de reprodução. Os datagramas expiram\footnote{Em aplicações de
transmissão multimídia ao vivo, estima-se \textit{jitter} no máximo de
\ut{180}{ms}} rapidamente e, nestes casos, devem ser descartados pelas
aplicações dos nós que os recebem. Assim, o tamanho necessário para o
\textit{buffer} de reprodução deve ser o suficiente para armazenar alguns
segundos\footnote{No máximo, 5 segundos} da mídia e repassá-la aos seus nós
parceiros, requerendo baixa\footnote{Utilizando uma compressão MPEG-4,
utiliza-se alguns kilobits por segundo até dezenas de megabits por segundo.}
capacidade de armazenamento dos processadores de rede (roteadores, pontos de
acesso etc.), incluindo dos nós finais (\textit{desktops}, celulares,
\textit{tablets} etc.);

  \item o caminho dos fluxos de dados transmitidos por um mesmo servidor da CDN
$s_{1}$ para um conjunto de nós $c_{1} .. c_{n}$, localizados em redes
distintas, são mais previsíveis. Isto possibilita parcerias de melhor qualidade
ao levar em consideração que é possível determinar pontos de intersecção das
rotas desses fluxos de dados, uma vez que estes convergem para um mesmo servidor
$s_{1}$. Nestes casos, é possível manter apenas um fluxo de dados e replica-lo
no ponto de intersecção. Isto permite o fomento à cooperação e o melhor
agrupamento entre os nós.

\end{enumerate}

Estas peculiaridades viabilizam uma abordagem muito importante adotada neste
trabalho: a participação mais efetiva dos roteadores no processo de distribuição
do conteúdo multimídia. Isto ocorre ao permitir que os roteadores: (i)
constituam uma rede de sobreposição P2P; (ii) selecionem nós parceiros (outros
roteadores); (iii) sirvam como pontes de acesso aos servidores da CDN; e (iv)
ajudem na execução do serviço de controle de congestionamento. Isto porque
conjectura-se que os roteadores são elementos de rede estáveis com relação a sua
disponibilidade se comparados aos sistemas finais, portanto atenuando o
\textit{churn} da rede P2P e assim permitir que as aplicações forneçam serviços
mais estáveis aos usuários, mesmo quando um usuário não tem interesse explícito
por um determinado conteúdo. Esta decisão também se baseia no fato de que se
existir um nó \textit{c} interessado por um fluxo de dados \textit{P},
transmitido por um servidor \textit{s} através de um roteador \textit{r}, os
pacotes de dados de \textit{P} que deverão ser entregues a \textit{c} passarão
obrigatoriamente por \textit{r}. Os resultados de medições realizadas no
contexto de trabalhos anteriores, como as apresentadas em~\cite{5332297},
corroboram com tal abordagem ao discutir questões relacionadas à localidade de
tréfego e o conhecimento que a rede possui sobre os fluxos de dados sendo
transmitido.

De forma mais extensiva, pode-se afirmar que o uso da abordagem supracitada é
justificado por uma tendência em utilizar os roteadores para auxiliar e otimizar
os serviços das camadas TCP/IP mais acima, como os serviços de controle de
congestionamento, NAT dinâmico (\textit{Dynamic Network Address Translation})
através de UPnP (\textit{Universal Plug and Play})~\cite{968819}, DNS
dinâmico~\cite{1203676}, dentre outros. Essa tendência é também sustentada pelas
Redes Centradas no Conteúdo (\textit{Content-Centric Networks} -- CCN), proposta
por Van
Jacobson~\cite{5936152,6419703,Eardley:2011:DAF:1983741.1983751,6384450,6386696}.
O princípio é que uma rede de comunicação deve viabilizar o acesso ao conteúdo
de interesse de um usuário (\textit{content-centric approach}) independente do
local físico onde tal conteúdo está armazenado, enfraquecendo a abordagem
restrita de organização dos protocolos em camadas funcionais
(\textit{host-centric approach}). Em linhas gerais, abstrai-se o esquema de
acesso a um recurso pelo endereço IP passando a acessá-lo pelo seu nome,
independente da localização do nó gerador do conteúdo de interesse. Isto porque
se considera que entregar o conteúdo é mais importante do que a forma de
obtê-lo, pois \ut{90}{\%} do tráfego na Internet consistem de dados
disseminados a partir de uma fonte para diversos destinos~\cite{6419703}.

O fato é que manter informação de estado sobre a taxa de transmissão por fluxo
de dados e definir a nova taxa de transmissão de acordo com eventos de perda não
é a melhor abordagem~\cite{983548,Katabi2003,4296812}, prática comum nos
algoritmos de controle de congestionamento tradicionais, como os utilizados no
TCP. Em vez disso, deve-se utilizar protocolos que permitem a ocupação máxima da
capacidade de repasse do roteador ao sinalizar para os fluxos de dados
competindo pelo uso do canal qual a taxa de transmissão a ser utilizada,
definida de acordo com diversos critérios, tais como a ocupação da fila de
roteamento, variação do RTT,
etc~\cite{4389799,Dukkipati:2005:PSF:2103175.2103204}. Assim, reduz-se
drasticamente as perdas de dados, porque as filas de roteamento não atingem
\ut{100}{\%} da sua capacidade; promove-se o compartilhamento equânime do canal
e descarta-se a necessidade de procedimentos de inicialização que subutilizam os
canais de transmissão, como a fase de partida lenta do
TCP~\cite{4346548,Dukkipati:2006:WFT:1111322.1111336}.

Nesse contexto, baseando-se em resultados de pesquisas publicados recentemente,
fazer uso dos algoritmos de controle de congestionamento assistidos pela
rede é a melhor abordagem para realizar controle de congestionamento em
transmissões de dados na Internet~\cite{983548}. Sendo assim, convém também
utilizar estes algoritmos para distribuição de mídias ao vivo. No escopo deste
trabalho tal abordagem é adotada. Para isto, destaca-se o protocolo
\textit{Rate Control Protocol} (RCP)~\cite{Dukkipati:2008:RCP:1368746,DBLP:journals/ccr/LakshmikanthaSDMB09, 4296812},
utilizado de forma adaptada para atender às necessidades do protocolo
proposto neste trabalho. Outros protocolos desta mesma classe também deve ser mencionado, como
o \textit{eXplicit Control Protocol} (XCP)~\cite{Katabi2003,Katabi:2002:CCH:964725.633035,Katabi:2002:CCH:633025.633035}, o
\textit{Variable-Structure Congestion Control Protocol}
(VCP)~\cite{4460574,Huixiang2008,Vinodhini2012,Zhang:2008:FCV:1424657.1424685,
5260888} e o \textit{Congestion Exposure}
(ConEx)~\cite{RFC6789,ConExGRP,Eardley:2011:DAF:1983741.1983751}. Apesar de
citar o ConEx, este não é considerado um protocolo para controle de
congestionamento propriamente dito, mas pode ser útel para auxilia uma fonte
transmissora de um fluxo de dados a expor para a rede informações sobre o
congestionamento sofrido pelos pacotes anteriormente transmitidos no contexto
de um fluxo de dados (por exemplo, a quantidade de pacotes perdidos). Em
seguida, com base nas informações de congestionamento, um algoritmo de
congestionamento pode tomar decisões para regular a taxa de transmissão mais
apropriada para os sistemas finais.

Apesar dos avanços apresentados nos trabalhos citados anteriormente, tais soluções
ainda não foram aplicadas em cenários de distribuição de multimídia que consideram
uma arquitetura P2P/CDN, combinadas com a utilização dos roteadores no processo de
distribuição de conteúdos multimídia ao vivo. Tal estratégia faz parte do escopo
deste trabalho.

Por fim, argumenta-se neste trabalho que ao mover a execução de alguns serviços
para o núcleo da rede, ou pelo menos utilizar a rede para auxiliar neste
processo, facilita-se o uso de alguns recursos antes difíceis de serem
utilizados, tais como transmissões de fluxos de dados em modo
\textit{multicast}. No caso do \textit{multicast}, embora esteja disponível há
mais de 20 anos, utilizar tal abordagem largamente na Internet não se mostrou
uma opção viável e poucas soluções o adotaram largamente na
Internet~\cite{819167}. Isto ocorre devido às barreiras administrativas que
dificultam a manipulação de rotas \textit{multicast}, principalmente por conta
da dependência do administrador da rede em ter que habilitar explicitamente este
tipo de tráfego de dados para um cenário específico de aplicação. Contudo, é
possível utilizá-lo quando controlado por um protocolo capaz para habilitá-lo
automaticamente de acordo com a demanda das aplicações, onde os fluxos poderão
ser compartilhados, mantendo-se o princípio da independência dos serviços de
rede, ou seja, sem que a aplicação precise se preocupar como isto é feito.

Com esse norte, delimitou-se algumas métricas que determinam a qualidade de
serviço para permitir que os usuários assistam conteúdo ao vivo na Internet
com base na referência~\cite{5343509}. Tais métricas são divididas em três
grupos, detalhados a seguir:

\begin{enumerate}

 \item \textit{Qualidade da experiência do usuário:} avalia-se o tempo em
que os nós levam para começar a reproduzir os primeiros datagramas; o tempo que
os nós levam para voltar a reproduzir o conteúdo, quando seus nós parceiros se
desconectam da rede (índice de continuidade); e a qualidade do conteúdo recebido
em comparação ao conteúdo original.

 \item \textit{Escalabilidade dos sistemas com relação a quantidade de nós
conectados:} avalia-se a quantidade de nós simultâneos conectados, a
contribuição da rede CDN e da rede P2P na transmissão de um fluxo de dados, bem
como o nível de duplicação desse fluxos.

 \item \textit{Execução dos protocolos:} avalia-se a sobrecarga de controle
gerados pelos protocolos a fim de executar suas funções.

\end{enumerate}


% (\textit{startup delay time})
% (\textit{recovery period to restart})
% (\textit{content distortion})
% (\textit{control overhead})

% -----------------


% OS PROTOCOLOS DE TRANSPORTE NAO FORAM PROJETADOS/PENSADOS/PREPARADOS PARA P2P
% VER OUTRAS CARACTERÍSTICAS DOS SISTEMAS DE DISTRIBUIÇÃO

% FAZER FIGURA DE COMO ESTES PARÂMETROS SE RELACIONAM
% startup delay time ->
% recovery period to restart
% content distortion
% vs
% * qualidade das parcerias -> atraso -> pré-definição de rotas (tracer)
% redução do churn (oportunismo) -> melhor startup delay time e recovery period
% to restart -> rede p2p constituída entre os roteadores -> buffer pequeno e
% expiram rapidamente
%

É no contexto de utilização de conceitos e desenvolvimento de protocolos
de redes de computadores, para aumentar a eficiência das transmissões de
conteúdos multimídia da classe de aplicações de rede \mys\space, que se insere
esse trabalho, motivado pelo grande interesse de pesquisa, indústria e mercado
em evoluir o estado da arte das soluções para transporte de conteúdos multimídia
em larga escala, especialmente na Internet. Para viabilizar isto, deve-se
abordar problemas relacionados à comunicação multi-ponto e escalabilidade
quanto ao número de nós, utilizando-se de forma eficaz a infra-estrutura de
rede.

\section{Descrição do Problema}
\label{sec:problematica}

Nos últimos anos, diversos esforços acadêmicos e da indústria foram feitos para
disponibilizar sistemas de distribuição de conteúdo ao vivo na
Internet~\cite{6410737,wei_modeling_2011,Rod_Dru_2010,Yin:2009:DDH:1631272.1631279,agarwal_performance_2008,massoulie_rate-optimal_2008,pelc_push--pull_2007,venot_peer--peer_2007,liang_hierarchically_2007,huang_anysee2:_2007,qi_huang_p2p_2007,xinyan_zhang_coolstreaming/donet:_2005,zhang_large-scale_2005,wakamiya_retransmission_2004,castro_splitstream:_2003}.
A disseminação de diferentes sistemas e protocolos de rede com este propósito
tem levado à pulverização de soluções para transporte de dados, gerando uma
falta de padronização na forma como tais sistemas transportam seus dados na
Internet, principalmente por tais soluções serem completamente implementadas na
camada de
aplicação~\cite{yaning_liu_friendly_2008,yan_multimedia-aware_2007,mulabegovic_lightweight_2002}.
Isto não seria um problema para a infra-estrutura de rede e consequentemente
para os sistemas finais se essa pulverização não potencializasse duplicações de
fluxos de dados da transmissão de um evento destinado a um sub-conjunto de redes
contendo nós receptores interessados em tal
evento~\cite{Pianese2011,5062221,Zhang:2012:SSP:2365364.2365643,6089062,5962881,4395123,Seibert2008,guo_survey_2008,4404148}.
Como consequência, exponencia-se o consumo desnecessário de
recursoscomputacionais e de rede.

Para entender o panorama atual nesse contexto, considere o seguinte cenário do
sistema de TV tradicional (teledifusão). Quando uma pessoa está assistindo um
canal e troca para outro, o receptor de sinal de TV consegue interpretar o novo
conteúdo mesmo este sendo transmitido por outra emissora de TV. Para que isto
funcione, existem padrões que descrevem o formato do vídeo/áudio (NTSC, PAL-M,
TVD etc.), a forma como os sinais devem ser transmitidos, em diferentes
frequências e como devem ser decodificados, de acordo com cada emissora de TV,
etc. Isto é possível porque todas as TVs funcionam simplesmente porque seguem
padrões, independente da sua marca e modelo, caso contrário somente conseguiriam
interpretar o sinal transmitido apenas por um conjunto restrito de emissoras de
TV.

Considerando a analogia anterior, os nós servidores dos atuais sistemas de
distribuição multimídia na Internet são as emissoras de TV, ao
passo que as aplicações clientes, os aparelhos de TV. A diferença é que os
sistemas não seguem um padrão para transmitir e receber os dados e
consequentemente uma aplicação cliente de um sistema não consegue reproduzir o
conteúdo transmitido pelo servidor de outro sistema. É como se cada TV
funcionasse apenas para um determinado conjunto de canais que seguem um
determinado padrão, sendo incapaz de reproduzir o sinal de vídeo oriundo de
outras emissoras de TV que funcionam com base em outros padrões estabelecidos ou
soluções proprietárias.

Apesar de existirem protocolos para a Internet que descrevem o conteúdo da
mídia transmitida~\cite{RFC2327,RFC3550,RFC2326}, atualmente não existe um
protocolo de transporte de mídia ao vivo que considere toda a complexidade
existente em se utilizar as redes orientadas a datagramas, ponderando-se as
recentes soluções empregadas nos sistemas mais modernos e estudados neste
trabalho. Em vez disso, cada sistema implementa suas próprias formas de
transporte de dados, com a execução de ações complexas implementadas
na camada de aplicação, com predominância e variações de uso dos protocolos
RTP/RTSP combinado com o UDP.

A transmissão de múltiplos fluxos de dados com o mesmo conteúdo por parte de
diferentes sistemas, gera um consumo desnecessário de recursos de rede e,
principalmente, a impossibilidade de que dois ou mais nós conectados em sistemas
distintos possam cooperar entre si, compartilhando o mesmo fluxo de dados
transmitido por um servidor, quando há interesse das partes envolvidas. Por
exemplo, é comum encontrar na Internet diversos sistemas de distribuição de
conteúdo, cada um com milhares de usuários conectados, porém recebendo fluxos
independentes do mesmo jogo de futebol, da corrida de fórmula 1,
etc~\cite{zhao_gridmedia+:_2009,fallica_quality_2008,susu_xie_coolstreaming:_2007,hei_insights_2006,4146695,tran_zigzag:_2003,huang_anysee2:_2007,zhang_large-scale_2005}.
A duplicação pode ser percebida até em cenários mais simples, quando dois ou
mais nós conectados à Internet pela mesma rede estão utilizando diferentes
sistemas para assistir ao mesmo evento ao vivo. Idealmente, os nós deveriam
compartilhar o mesmo fluxo de dados e cada um renderizar o conteúdo da forma
definida pela aplicação, desacoplando a forma de transportar os dados da forma
como estes são apresentados pela aplicação (princípio da independência dos
serviços) aos seus respectivos usuários, como no caso do serviço Web.

O grande sucesso do serviço Web, no ponto de vista de protocolo de comunicação,
ocorre devido à independência da forma que se implementa desacopla o conteúdo a
ser transmitido e a comunicação entre o cliente (navegador) e o servidor.
Independente do modelo e versão do navegador e do servidor web, todos
transportam dados utilizando o protocolo TCP, evitando-se assim a
pulverização de diferentes formas de transportar os dados de tal serviço -- fica
apenas a cargo do desenvolvedor de cada aplicação decidir como exibir as
informações recebidas. Contudo, percebe-se a inexistência de um protocolo
equivalente ao TCP para os sistemas de distribuição de conteúdos
multimídia, apesar da grande demanda e sucesso de utilização dos mais variados
sistemas de transmissão multimídia disponíveis na Internet. Um protocolo similar
ao TCP para o cenário de distribuição de conteúdos multimídia ao vivo poderia
evitar as duplicações de transmissão por meio de estratégias colaborativas entre
os nós interessados por um mesmo conteúdo, uma vez que não há a necessidade de
individualização dos dados transmitidos. Como consequência, seria possível fazer
melhor uso dos canais de transmissão ao enviar fluxos de dados apenas quando
necessário, restando para as aplicações a responsabilidade de renderizá-los ao
seus usuários, como ocorre no serviço Web. Nesse contexto, a arquitetura de
serviço P2P~\cite{kurose2006} combinada com o \textit{Application Layer
Multicast - ALM}~\cite{ALMbook2009} é uma abordagem interessante
que explora os aspectos de compartilhamento de fluxo de dados, mas os
desenvolvedores ainda continuam obrigados a imbutir a implementação das
diretrizes do P2P/ALMA nas próprias aplicações, em vez de utilizá-las como os
desenvolvedores de navegadores web ou de serviços web fazem: delegar ao TCP
algumas importantes responsabilidades. O TCP abstrai toda complexidade de
algumas responsabilidades da camada de transporte, tal como garantia de entrega
de dados, ordenação de segmentos, controle de congestionamento etc. Algumas
funções implementadas em soluções P2P/ALMA estão consolidadas e bastante
utilizadas nos sistemas de distribuição de conteúdos multimídia ao vivo, cada
um a sua maneira e, mesmo que sejam similares, ainda são incompatíveis.

Como a visão supracitada atualmente (HTTP + TCP) não é empregada na Internet
para o caso de distribuição de conteúdos multimídia ao vivo, em essência devido
às limitações dos protocolos de transporte que não oferecem recursos para
auxiliar a execução dos sistemas de distribuição de conteúdos multimídia ao
vivo, passou-se a utilizar arquiteturas de sistemas baseadas na combinação
P2P/CDN + UDP. Nesse contexto e considerando as diversas soluções disponíveis,
os desenvolvedores fazem uso de \textit{middlewares} que implementam as
principais funções utilizadas nos sistemas de distribuição de conteúdos
multimídia ao vivo. Devido a existência de diferentes opções, cada sistema faz
uso de um \textit{middleware} específico (quando o fazem), resultando novamente
na pulverização dos sistemas devido a incompatibilidade entre os
\textit{middlewares} utilizados.
% Apesar de compatibilidade entre diferentes soluções ser uma decisão
% dos provedores de serviço, neste trabalho, a incompatibilidade de tais sistemas
% é considerada uma propriedade crítica para os casos em que o provedor deseja
% distribuir seu conteúdo de forma aberta, sem qualquer controle de acesso, tal
% como ocorre em sistemas de TVs tradicionais e abertos. Para estes casos, a
% incompatibilidade entre as soluções existentes passa a ser um fator a ser
% considerado. É por questões de compatibilidade nas camadas mais abaixo que se
% conseguiu escalar o serviço Web.

Em geral, nos middlewares para distribuição de conteúdos multimídia ao vivo,
implementam-se mecanismos para conexão multi-ponto e
topologias~\cite{4404148,5158452,Wu:2008:ELP:1386109.1386112,4215750,5061910,Garroppo:2012:TCS:2160187.2160451,4251077,4644134},
seleção de
nós~\cite{6077007,Dai:2009:SPP:1478659.1478730,Tang:2008:EPS:1792514.1792556,6214363,5580021},
tolerância à desconexões e de outros problemas causados pelo
\textit{churn}~\cite{5502009,Vassilakis:2010:MNC:1838764.1838902,Garroppo:2012:TCS:2160187.2160451,6354810,5158452},
disponibilização de informação de contexto sobre rede para dar suporte à
execução dos serviços das aplicações, como localização da rede, custos entre
redes em uma granularidade configurável e outras propriedades dos sistemas
finais~\cite{6115303,5284511,6077007,Madhyastha:2009:INP:1558977.1558987},
estratégias para incentivos à cooperação entre
nós~\cite{Agarwal:2007:AIG:1287576.1340418,5451106,Agarwal:2006:GBS:1193215.1194219,1309377,6185363,1388342,5580021},
algoritmos para inibir a participação de nós
\textit{free-riders}~\cite{1309377,5161007,5421459,4608940},
adaptação de fluxo baseado na capacidade de recepção dos
nós~\cite{4251079,6713779,Pantos2013,6077864}
e segurança~\cite{vieira_borges_2010,4539702,4738451,865073,1388342}. Temas como
estes foram ganhando importância ao longo dos anos porque os serviços
de transmissão de mídias ao vivo foi se tornando uma tendência e hoje é uma
realidade. Apesar da arquitetura da Internet ser modularizada em camadas
funcionais, ao longo dos anos as soluções promovidas no contexto dos referidos
temas não foram disponibilizadas estrategicamente nas camadas corretas, mas sim
apenas na camada de aplicação. Isto se explica pelo fato de que é muito mais
fácil implementar uma solução na camada de aplicação do que em outras camadas
mais abaixo, não apenas por aspecto de facilidade de desenvolvimento, mas também de
implantação em larga escala no mercado, pois todas as outras camadas estão implementadas do
sistema operacional para baixo.

De forma alternativa, uma maneira eficiente de se estruturar e enviar um fluxo
de vídeo a um grupo de usuários na Internet seria a utilização de
\textit{multicast} no nível de IP~\cite{guo_survey_2008}. Em uma sessão de
\textit{multicast} IP, uma estrutura de árvore é formada. A fonte de vídeo se
torna a raiz desta árvore \textit{multicast} e os clientes recebem o fluxo de
vídeo através dos vários nós desta árvore, formada pelos roteadores que suportam
\textit{multicast} em nível de IP. Apesar de melhorar a escalabilidade no número
de receptores do mesmo conteúdo ao vivo, tal estratégia não é suficiente devido
a complexidade de habilitar, principalmente em grande escala, os canais de
comunicação \textit{multicast}, pois, para isso, precisa-se de intervenção
humana. Para contornar a dificuldade em habilitar o modo \textit{multicast} em
nível de IP, a arquitetura ALM, equivalente ao IP multicast, porém implementada
a nível da camada de aplicação. A diferença entre o \textit{multicast} IP e o
ALM é que no primeiro os roteadores duplicam e repassam os datagramas para os
próximos roteadores até alcançar os sistemas finais, ao passo que no segundo os
sistemas finais executam as ações citadas anteriormente, mas ainda dependem de
funções de rede de mais baixo nível, o que pode aumentar o tempo de
processamento e a complexidade da aplicação. Existes diversos
\textit{middlewares} baseados em ALM e estes implementam suas próprias
interfaces e uso e funcionalidades, incompatíveis entre
si~\cite{Yeo:2003:FMV:947820.947823,Banerjee:2002:SAL:964725.633045,Banerjee:2006:OEO:1141103.1648579,1258118,jannotti_overcast:_2000,Kwon:2005:POM:1052084.1648646,1575808,castro_splitstream:_2003}.
Apesar de todos esses esforços, questão da pulverização de aplicações
mencionada no ínicio dessa seção vem à tona mais uma vez: cada sistema adota
suas estratégias de formação da árvore \textit{multicast}, portanto
incompatíveis entre si.

% Em tal abordagem, os algoritmos de seleção de nós utilizam informações de
% contexto para selecionar nós parceiros de melhor qualidade e assim melhorar a
% experiência do usuário e reduzir a carga
% sobre os provedores de conteúdo. As informações de contexto podem ser o estado
% do \textit{enlace}, distância física entre dois nós, atraso etc. Um esforço de
% pesquisa para este fim é uma proposta conhecida pelo nome de ALTO
% (\textit{Application-Layer Traffic Optimization})~\cite{ALTO}, que prover às
% aplicações informações de contexto e então alimentar os algoritmos de seleção
% de nós parceiros.

Em vez disso, pode-se combinar as duas formas supracitadas em uma solução de
protocolo disponível para qualquer aplicação de rede interessada em transmitir
e/ou receber um fluxo de dados ao vivo. Ou seja, um protocolo que constitui uma
rede de sobreposição formada por roteadores de rede, com suporte automático ao
uso de \textit{multicast}, através da qual as aplicações possam trocar dados
entre si de forma transparente. Isto signica mover alguns serviços consolidados
na camada de aplicação para camadas mais abaixo, abstraindo-se a grande
complexidade de se constituir redes P2P, principalmente compatíveis entre si.
Nas Seções~\ref{sec:arq_p2p_media_aovivo} e~\ref{sec:sis_trans_aovivo},
estende-se essa discussão no sentido de entender o funcionamento e os aspectos
arquiteturais das aplicações de distribuição de conteúdos multimídia ao vivo, em
redes P2P, bem como os principais problemas com base em alguns cenários de uso.

Por exemplo, os protocolos de transporte poderiam absorver parte da
complexidade dos serviços de distribuição multimídia, mas não os fazem porque
tanto o UDP quanto o TCP não foram projetados para atender as necessidades
desse tipo de serviço e alterá-los requer um grande esforço, principalmente por
serem de domínio público e utilizados abundantemente por serviços com esta
finalidade. Este fato acontece primeiro por um motivo histórico, pois na época
que tais protocolos foram propostos não se discutia sobre este tipo de serviço,
tampouco sobre sistemas P2P e muito menos sobre redes CDN. Além disso, um outro
motivo é o fato de que os sistemas foram sendo disponibilizados levando em
consideração toda a complexidade na formação das redes P2P, uma vez que os
protocolos de transporte não eram eficazes para a distribuição de datagramas IP
em larga escala na Internet, cuja principal forma era utilizar
\textit{multicast} (seja na camada de rede ou na de aplicação).

% Como consequência, toda transmissão na
% prática termina sendo de múltiplos fluxos \textit{unicast} e
% independentes entre si, apesar dos esforços arquiteturais com o uso de P2P e da
% CDN. Isto ocorre porque os protocolos de transporte essencialmente funcionam em
% modo \textit{unicast}, com a carga para distribuição do conteúdo multimídia sob
% responsabilidade dos servidores das redes CDN, com auxílio cooperativo dos nós
% das redes P2P, nos melhores casos.

Além do TCP e do UDP, na segunda metade dos anos 2000, outros protocolos
mais modernos passaram a apresentar avanços significativos para permitir a
transmissão de conteúdos multimídia, como é o caso do DCCP (\textit{Datagram
Congestion Control Protocol})~\cite{citeulike:943036,RFC4340}. Apesar de sua
eficiência em alguns cenários de transmissão de dados multimídia na Internet, o
DCCP possui falhas críticas quando utilizado em larga escala em cenários
\mys~\cite{6214362,leandro-Globecom-2011,leandro-master-2008}. O fato é que o
DCCP é um protocolo orientado à conexão e portanto para cada novo usuário
interessado em receber um fluxo multimídia transmitido, uma nova conexão se faz
necessária, não havendo a possibilidade de compartilhamento entre diferentes nós
interessados pelo mesmo conteúdo, pelo menos de forma automática e transparente
para as aplicações de rede. Qualquer protocolo que exija estabelecimento de
conexão e realize controle de congestionamento por fluxo de dados apresenta tal
limitação, o que gera dois problemas:

\begin{enumerate}

\item \textit{excessivo consumo de recursos computacionais}:
para cada nova conexão, o nó transmissor deve alocar recursos
computacionais (memória e processamento) para tratar cada nova
conexão. Em cenários de transmissão multimídia \mys, se muitos
nós estão conectados em um único servidor, então isto elevará
sobremaneira o consumo de recursos computacionais do nó transmissor
proporcionalmente à quantidade de nós receptores interessados pelo
fluxo multimídia transmitido. Além disso, embora o conteúdo transmitido por
um nó seja de interesse de muitos outros nós, os fluxos são mantidos
independentemente uns dos outros, o que gera duplicações desnecessárias e
conseqüentemente desperdício de recursos de rede. O trabalho mais notável onde
discute-se as consequências deste problema em aplicações de rede é o encontrado
na referência \cite{guo_survey_2008}.

\item \textit{a taxa de transmissão de fluxos DCCP individualmente tenderá a 0
(zero)}: no caso do DCCP, utiliza-se uma equação matemática para definir a taxa
de transmissão durante uma conexão. À medida que mais nós se conectam a um nó
transmissor, menor será a taxa de transmissão do nó transmissor para cada um dos
nós receptores conectados a ele. Para a rede, esta estratégia é equânime e evita
que a mesma entre em colapso de congestionamento, mas para cada fluxo de dados
isto é ruim. Este problema tem uma relação estreita com o dilema observado por
Garrett Hardin em 1968 e denominado de Tragédia dos Bens Comuns (\textit{Tragedy
of the Commons})~\cite{tragcomHardin}, presente em diferentes áreas do
conhecimento. No caso de protocolos como o DCCP, a tragédia dos bens comuns
ocorre porque, à medida que novos fluxos são transmitidos na rede, menor é a
taxa de transmissão alocada individual para cada fluxo, a qual pode se tornar
insuficiente para a recepção de um fluxo multimídia e, por consequência, nenhum
nó receptor reproduzirá o fluxo transmitido pelo nó transmissor, embora todos os
fluxos utilizarão o canal de forma equânime.

\end{enumerate}

Desta forma, apesar de os algoritmos de controle de congestionamento buscarem
convergir para o caso do melhor global (equidade para com todos os fluxos e
assim evitar congestionamento da rede), isto provoca o efeito do caso do pior
local (redução da taxa de recepção de cada nó da rede). Este fato pode ser
explicado analiticamente utilizando como base a Equação~\ref{eq:dccpeq-ccid3},
que define cada taxa de transmissão \textit{$X_i$} para realizar o controle de
congestionamento em cada fluxo~\cite{Chiu:1989:AID:70207.70208}. Para efeito de
estudo, esta equação do protocolo DCCP/CCID3 foi a escolhida, por ser utilizada
em vários protocolos de rede, porém equações similares de outros algoritmos para
controle de congestionamento poderiam ter sido utilizadas. Nesta equação,
define-se:

\begin{itemize}
 \item \textit{$X_i$} é a taxa de transmissão em bytes/segundo;
 \item \textit{s} é o tamanho do pacote em bytes;
 \item \textit{R} é o RTT (\textit{Round Trip Time}) em segundos;
 \item \textit{p} é a taxa de ocorrência de perdas, entre 0 e 1;
 \item \textit{RTO} (\textit{Retransmission TimeOut}) é o valor do temporizador
de retransmissão do TCP em segundos; e
 \item \textit{b} é igual a 1 e representa o número máximo de pacotes
confirmados por um único ACK.

\end{itemize}

Considerando o problema descrito anteriormente, o uso total da capacidade do
canal por \textit{N} fluxos DCCP pode ser definido por $C = \sum_{i=1}^{N}
X_i$. Em condições severas de congestionamento na rede, o valor de \textit{C} é
equivalente à largura de banda do canal de transmissão. Quando isto ocorre,
tem-se que \textit{N} atingiu um valor maior do que a rede suporta, fazendo com
que os \textit{buffers} de recepção dos roteadores alcancem seus limites e
portanto os valores de \textit{p} e \textit{R} na Equação~\ref{eq:dccpeq-ccid3}
também aumentam, resultando que o $\displaystyle\lim_{N\to\infty}\frac{C}{N} =
0$, logo, $X_i$ se aproxima de 0 (zero).

\begin{equation}
X_i = \frac{s}{R \times \sqrt{2 \times b \times \frac{p}{3}} + (RTO \times 3
\sqrt{3 \times b \times \frac{p}{8}} \times p \times (1 + 32 \times p^{2})}
\label{eq:dccpeq-ccid3}
\end{equation}

\vspace{0.5cm}

Embora esta seja uma discussão teórica, simulações foram realizados em busca
de evidências mais contundentes de que este fato pode ocorrer na prática. Os
resultados e discussão sobre estas simulações são
apresentados em~\cite{6214362,leandro-Globecom-2011,leandro-WP2P-2011}. Em
resumo, de acordo com os resultados obtidos, apenas fluxos DCCP foram
suficientes para causar o problema em questão, sequer fluxos de outros
protocolos foram utilizados. Em situações mais realistas, o
problema se agrava porque o protocolo DCCP disputará o canal de transmissão não
apenas com fluxos DCCP, mas também com fluxos de protocolos como o TCP, UDP,
SCTP~\cite{iyengar_concurrent_2006,huang_multimedia_2011}, dentre outros.

Apesar de o protocolo DCCP ter sido utilizado para evidenciar o problema que
acabara de ser apresentado, esta discussão pode ser generalizada para qualquer
outro protocolo de rede que seja orientado à conexão e que realize controle de
congestionamento de fluxos individualmente. A fim de aumentar a
representatividade de protocolos nesse contexto, o leitor pode consultar outros
trabalhos referenciados
em~\cite{4146841,goutelle2004,CONG:Floyd00:TFRC:art,Sangtae2008,RFC3649,5472999,veno2003,464716,5735831,5560080,4579599,brosh_delay-friendliness_2010,lucas_fair_2009,ju-won_park_tcp-rome:_2008,elaarag_tcp_2008,RFC4960,lin_ma_congestion_2007,yongxiang_liu_tcp-cm:_2002,brassil_structuring_2002,banerjea_tenet_1996}
e no Capítulo~\ref{cap:trabalhosrelacionados} deste documento.

Para contornar os problemas discutidos até aqui, torna-se imprescindível
projetar um protocolo de rede com vistas a reduzir a pulverização dos sistemas
de distribuição de conteúdo, inspirando-se em casos consistentes ao longo dos
anos, como o serviço Web, e que considere a evolução do estado da arte como
aliado nesse processo, tais como as funções consolidadas das redes P2P, os
novos conceitos das redes redes centradas no conteúdo e os algoritmos
de controle de congestionamento assistidos pela rede, que são mais eficazes se
comparados aos algoritmos baseados em perda de pacotes, mudança no atraso e
relatórios enviados pelos receptores aos transmissores~\cite{5462976}.
% ~\cite{Sangtae2008,veno2003,RFC3649,Ha2007,4146841,shalunov2011,464716}.

Diante do exposto, pretende-se responder a seguinte questão de pesquisa:
\textit{como disseminar conteúdos multimídia ao vivo na Internet evitando o
fenômeno da tragédia dos bens comuns dos protocolos de transporte, considerando
o princípio da independência dos serviços de rede?}

% Observando esta questão que deu origem às pesquisas desenvolvidas
% neste trabalho, propõe-se a seguinte tese de doutorado:

\section{Hipótese}

Para o problema em questão é adotada a hipótese de que \textit{a constituição
de uma rede de favores entre roteadores que compartilham fluxos de dados
transmitidos por servidores de uma CDN, através do uso transparente (para a
aplicação) de \textit{multicast} negociado no processo de estabelecimento de
conexão entre os nós transmissores e receptores, com o auxílio de um algoritmo
de controle de congestionamento assistido pela rede, possibilita a disseminação
em larga escala de conteúdos multimídia ao vivo}.

Diante desta hipótese, remete-se esta pesquisa ao uso de técnicas e mudanças na
perspectiva da execução de serviços em camadas inferiores a da aplicação,
visto que argumenta-se neste trabalho que a infra-estrutura de rede deve
fornecer um suporte mais efetivo no processo de disseminação de conteúdos
multimídia ao vivo. Propõe-se que isto ocorra evitando-se que os desenvolvedores
de aplicações implementem funcionalidades intrínsecas ao processo de
distribuição de conteúdos na rede, com escalabilidade do número de nós e
autenticidade do conteúdo distribuído através da rede de favores.

% Para realizar o projeto de um protocolo de distribuição de conteúdos
% multimídia
% ao vivo considerando os problemas abordados neste trabalho, é necessária a
% aplicação de técnicas e mudanças na perspectiva da execução de serviços de
% rede
% para as quais não necessite que as aplicações implementem aspectos intrínsecos
% de disseminação de conteúdos na rede, evitando-se a segmentação dos nós
% interessados em assistir um determinado evento e garantindo-se a
% escalabilidade
% do número de nós.
%
% Observando estes requisitos que originaram às pesquisas desenvolvidas neste
% trabalho, definiu-se a seguinte hipótese de tese de doutorado: \textit{O uso
% de
% redes CDN auxiliadas por uma rede P2P, constituída dinamicamente por
% roteadores,
% possibilita a disseminação eficiente de conteúdos multimídia das aplicação
% através de um protocolo que unifica as estratégias de comunicação de
% diferentes
% sistemas e considera o uso de controle de congestionamento assistido pela
% rede.}

\section{Objetivo}

Neste trabalho, o objetivo é a concepção e a avaliação de um protocolo de rede
denominado \textit{Global Media Transmission Protocol} (GMTP), para uso em
sistemas que consideram uma arquitetura híbrida P2P e CDN para distribuição de
conteúdos multimídia ao vivo. Mais especificamente, propõe-se um protocolo que
explora a relação entre o escalonamento de recursos computacionais em redes P2P,
a estabilidade das redes CDN e os mecanismos que possam mitigar a complexidade
no processo de construção desses sistemas ao mover diversas funções atualmente
implementadas nesses sistemas para as camadas de transporte e rede, a fim de
utilizar eficientemente os recursos de rede e consequentemente melhorar a
qualidade da experiência do usuário ao reproduzir um conteúdo ao vivo na
Internet.

\subsection{Objetivos Específicos}

Pode-se dividir o objetivo principal deste trabalho nos seguintes
objetivos específicos:

\begin{enumerate}

  \item compreender os sistemas e protocolos para distribuição de conteúdos
multimídia baseados em arquiteturas P2P/CDN, com suporte a controle de
congestionamento e transmissão \textit{multicast} na camada de
aplicação. Além disso, entender quais outras funções estão presentes nesse tipo
de sistema;

 \item definir um protocolo de rede que opera nas camadas de transporte e rede
da pilha TCP/IP para distribuição de conteúdos multimídia. O protocolo deve
permitir que os sistemas finais sejam capazes de transmitir e receber dados
considerando o uso de mecanismos consolidados como boas práticas em sistemas de
distribuição de conteúdos ao vivo na Internet, bem como fazer uso de novos
algoritmos propostos no contexto deste trabalho;

 \item implementar o protocolo proposto em um ambiente que proporcione a
obtenção de valores para as métricas avaliadas, permitindo-se estudar o
protocolo por meio de diferentes configurações de rede, entender seus limites e
os impactos que seus recursos podem gerar tanto sobre os nós quanto sobre a
rede; e

 \item avaliar e discutir os métodos e técnicas empregados no protocolo proposto
em comparação a um sistema disponível no estado da arte, discutindo-se sobre
às melhorias na qualidade da experiência do usuário, suas vantagens e
desvantagens;

\end{enumerate}

\section{Relevância do Tema e da Tese}

Transporte de fluxos de dados multimídia ao vivo para distribuição de conteúdos
multimídia é um tema relevante no contexto de redes de computadores devido aos
recentes interesses dos usuários por parte desse tipo de serviço, em
particular, na Internet, como discutido na Seção~\ref{sec:delimitacao}.

Como propõe-se neste trabalho, combinar tópicos específicos do tema estudado em
uma solução para melhorar a experiência do usuário ao reproduzir um conteúdo ao
vivo é um grande desafio, principalmente devido ao surgimento de novas técnicas,
métodos e/ou paradigmas, como as redes centrada no conteúdo e os algoritmos para
controle de congestionamento assistidos pela rede. A distribuição de conteúdos
multimídia em larga escala é cada vez mais relevante devido às características
inerentes à classe de aplicações e cenários que têm sido considerados na
Internet, tais como seleção de nós, tolerância à desconexão, segurança e
controle de congestionamento no envio de datagramas. Estas características,
aliadas à transparência da solução na perspectiva do desenvolvedor da aplicação,
tornam o tema ainda mais relevante para o contexto de boas práticas na forma de
como os serviços de distribuição de conteúdos multimídia são implementados
atualmente.

Nesse contexto, apesar de as soluções existentes resolverem parte do problema em
discussão, principalmente quando se utiliza redes de distribuição de conteúdo,
argumenta-se que ainda é possível obter melhores resultados quanto ao desempenho
dos sistemas com a finalidade que se discute neste trabalho, não somente na
perspectiva do consumo de recursos de rede, mas também do estado da prática no
que diz respeito à forma que tais sistemas são desenvolvidos. Como a demanda por
serviços multimídia em redes de computadores tem aumentado dia após dia, o
estudo desenvolvido e os artefatos de software produzidos no contexto desta tese
podem contribuir sobremaneira para o desenvolvimento de
aplicações multimídia mais eficientes e compatíveis entre si, tal como ocorre
no serviço web, além de ajudar na tomada de decisões sobre futuros
desenvolvimentos desse tipo de pesquisa. Isto é possível através das
contribuições específicas desenvolvidas no contexto deste trabalho, sumarizadas
na Seção~\ref{sec:contribuicoes}.

No que diz respeito à relevância do trabalho na perspectiva de engenharia de
software para sistemas distribuídos, o autor considera indispensáveis três
principais requisitos que estão sendo contemplados e que reforçam a relevância
da tese. Estes requisitos servem como motivação para a realização das atividades
que foram desenvolvidas ao longo deste trabalho.

O primeiro deles é a consistência teórica. O protocolo de rede proposto foi
concebido a partir de evidências sólidas com base nos trabalhos anteriormente
publicados e em simulações de rede, com o problema-chave apresentado e discutido
por meio de fundamentos matemáticos e provas contundentes obtidas com o uso de
um consagrado simulador de rede. Propõe-se a descrição do protocolo de forma
rigorosa e não-ambígua, permitindo um melhor entendimento e futuros
investimentos no protocolo teórico proposto.

O segundo requisito é a contribuição científica. Diversos trabalhos relacionados
foram estudados antes da concepção do protocolo proposto. A partir deste estudo,
identificou-se o problema anunciado anteriormente e foram elencadas as possíveis
soluções para o problema, o que culminou com a definição deste trabalho. Até o
momento da escrita deste documento, não foram encontrados trabalhos com as
características aqui propostas, o que reforça o caráter de originalidade e
contribuição científica, a qual já vem sendo respaldada pela comunidade através
da publicação de artigos em veículos relevantes da área e pelo interesse
industrial, como apresentado na Seção~\ref{sec:publicacoes}.

O terceiro requisito é o potencial prático. A implementação do protocolo de
rede, assim como o conjunto de ferramentas desenvolvidas e que serão mantidas,
tem como objetivo demonstrar que a abordagem é viável e praticável. Um protocolo
de rede simplesmente especificado sem nenhuma implementação real tornaria as
reais contribuções deste trabalho apenas suposições. O compromisso com a
utilização dos conceitos para construir soluções que possam ser aplicadas na
indústria, torna o trabalho relevante em termos práticos, sobretudo em escala
global na Internet.

\section{Resumo das Contribuições}
\label{sec:contribuicoes}

No contexto desta tese, enumera-se as grandes contribuições de forma resumida.

\begin{enumerate}

%   \item Uma revisão bibliográfica sobre o estado da arte no contexto do
% tema que se discute. Apresenta-se a forma de com os sistemas atualmente são
% projetados e as principais considerações sobre os mesmos, como técnicas,
% métodos e abordagens utilizadas;

  \item a concepção e descrição detalhada do protocolo introduzido. Neste caso,
apresenta-se a elaboração do projeto de um protocolo para distribuição de
conteúdos multimídia ao vivo, que considera a comunicação mais efetiva entre as
duas camadas mais importantes da pilha TCP/IP, a de transporte e a de rede.  Além
disso, traz-se à tona os recentes avanços da área de estudo, testando-se o uso
dos novos conceitos das redes centradas no conteúdo aplicados ao processo de
distribuição de conteúdos e combinados com os recentes avanços dos algoritmos de
controle de congestionamento assistido pela rede. O uso do protocolo
introduzido contribuirá para a padronização da forma como os desenvolvedores
implementam as principais funcionalidades dessas aplicações e, sobretudo,
permitindo que estas sejam implementadas de tal forma a promover o reúso em
soluções existentes, utilizando-se dos recursos de rede de forma mais eficiente.

  \item a implementação de artefatos de software que permitem a reprodução do
ambiente de estudo, tais como implementações no simulador de rede
OMNet++ e NS2~\cite{XU2011}, bem como um protótipo de implementação no núcleo do
sistema operacional Linux;

  \item os resultados e discussões aprofundadas acerca do protocolo introduzido
frente ao CoolStreaming/Denacast~\cite{5764567} e a uma solução baseada no
protocolo CCNx~\cite{REF}. O primeiro é um sistema de distribuição de mídias ao
vivo baseado no CoolStreaming com suporte a uma rede de distribuição de
conteúdos (P2P/CDN), ao passo que o segundo é uma solução para distribuição de
mídias ao vivo que segue as diretrizes das redes centradas no conteúdo; e

  \item os encaminhamentos da pesquisa sobre futuros avanços do estado da arte,
tais como as limitações do protocolo proposto e uma breve discussão de como
estas poderão ser aprimoradas.

\end{enumerate}

Ademais, o autor destaca a importância do presente trabalho por ser o
primeiro a trazer à tona um problema e uma proposta de solução do uso de um
protocolo de transporte e rede exclusivamente projetado para a distribuição de
conteúdos multimídia para a Internet, antes realizada apenas com os protocolos
TCP, UDP, DCCP ou outros particulares, em geral, disponíveis na camada de
aplicação.

\section{Publicações}
\label{sec:publicacoes}

\begin{enumerate}
 \item \textit{GMTP: A Crossing-layer Optimized Protocol for Large Scale
Distribution of Live Multimedia Content over the Internet.} A ser
submetido para IEEE Transactions on Broadcasting (JCR 2.087) ou IEEE Network
(JCR 2.853).

% \item \textit{Designing GMTP: The Global Media Transmission Protocol for Massive
% Multimedia Distribution with Supporting of Hybrid P2P/CDN Routers.} A ser
% submetido para IEEE Network (JCR 2.853).

\item \textit{Sharing Resources with Live Streaming Systems to Improve Users'
QoE on Consumer Electronic Devices.} IEEE Transaction on Consumers Eletronics
(JCR 1.087).

 \item \textit{About Encouraging Residential Users to Share Upload
Bandwidth with CDN/P2P Live Streaming Systems.} 31st IEEE International
Conference on Consumer Electronics 2013. Qualis A-2 (Computação). 2013.
Referência \cite{leandro-icce2013}.

 \item \textit{Multi(Uni)cast DCCP for Live Content Distribution with P2P
Support.} 9th IEEE Wireless Communications and Networking Conference (WCNC
2012). Qualis A-1 (Computação). 2012. Referência
\cite{6214362}.

\item \textit{Multimedia Content Distribution of Real Time Controlled and
Non-reliable Datagrams Between Peers.} 29th IEEE Globecom 2011. 2nd IEEE
Workshop on Multimedia Communications \& Services. Qualis A-1 (Computação).
2011. Referência \cite{leandro-Globecom-2011}.

\item \textit{Distribuição de Conteúdo Multimídia em Tempo Real com Transporte
de Fluxos Controlados e Não Confiáveis entre Pares.} Simpósio Brasileiro de
Redes de Computadores 2011. VII Workshop de Redes Dinâmicas e Sistemas P2P.
2011. Qualis A-N (Computação). Referência \cite{leandro-WP2P-2011}.

% \item \textbf{An Experimental Evaluation of DCCP Transport Protocol:
% A Focus on the Fairness and Hand-off over 802.11g Networks.} 5th IEEE Consumer
% Communications and Networking Conference (CCNC). 2008. Referência
% \cite{ccnc-leandro2008}.

\item \textit{On the Performance of TCP, UDP and DCCP over 802.11g Networks.}
23rd ACM Symposium on Applied Computing. Qualis A-1 (Computação). 2008.
Referência \cite{leandro2008}.

% \item \textit{Avaliação Experimental do Protocolo DCCP para Transmissão de
% Conteúdos Multimídia em Redes Sem Fio 802.11g e na Internet.} Dissertação de
% mestrado. Universidade Federal de Campina Grande. Programa de Pós Graduação em
% Ciência da Computação. 2008. Referência \cite{leandro-master-2008}.

\end{enumerate}

\section{Estrutura do Documento}

O restante deste documento está organizado da seguinte forma:

TBD

% \begin{itemize}
%   \item No Capítulo~\ref{cap:fundamentacao} são apresentados os principais
% conceitos relacionados aos sistemas de distribuição de mídias ao vivo em
% arquiteturas P2P;
%
%   \item No Capítulo~\ref{cap:mudccp} é apresentada uma visão geral do
% \textit{Global Media Transmission Protocol} (\mudccp), um protocolo de
% transporte baseado em uma arquitetura P2P para distribuição de fluxos de dados
% multimídia de aplicações com um nó transmissor e muitos nós receptores (\mys),
% desenvolvido para operar principalmente na Internet.
%
%   \item No Capítulo~\ref{cap:mudccp-tecnica} continua-se com as discussões
% sobre o protocolo \mudccp, porém fornecendo-se detalhes acerca do funcionamento
% do protocolo no tocante a três principais aspectos, o cabeçalho de pacotes, o
% processo de conexão e o mecanismo para controle de congestionamento.
%
%   \item No Capítulo~\ref{cap:metodosexperimentos} são apresentados os métodos e
% experimentos adotados neste trabalho, destacando-se o mecanismo estatístico
% utilizado para obtenção de métricas específicas a fim de analizar o desempenho
% do protocolo \mudccps em transmissões de fluxos de dados multimídia.
%
%   \item No Capítulo~\ref{cap:analisedesemp} são apresentados os resultados
% preliminares obtidos no contexto deste trabalho, destacando-se os resultados
% obtidos em simulações de rede com o uso do protocolo \mudccp, apresentado no
% Capítulo~\ref{cap:mudccp}.
%
%   \item No Capítulo~\ref{cap:trabalhosrelacionados} são apresentados os
% trabalhos relacionados a esta pesquisa, destacando-se os principais avanços
% científicos no que diz respeito a protocolos de transporte com ênfase na
% distribuição de conteúdos multimídia utilizando arquiteturas P2P.
%
%   \item Por fim, no Capítulo~\ref{cap:conclusao} são apresentadas as
% considerações finais, discutindo-se os principais tópicos elencados
% neste trabalho e o planejamento para a conclusão deste trabalho.
% \end{itemize}