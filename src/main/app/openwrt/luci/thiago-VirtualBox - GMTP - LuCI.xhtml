<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml" xml:lang="pt">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<link rel="stylesheet" type="text/css" media="screen" href="thiago-VirtualBox%20-%20GMTP%20-%20LuCI_arquivos/cascade.css" />
		<!--[if IE 6]><link rel="stylesheet" type="text/css" media="screen" href="/luci-static/openwrt.org/ie6.css" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" type="text/css" media="screen" href="/luci-static/openwrt.org/ie7.css" /><![endif]-->
		<!--[if IE 8]><link rel="stylesheet" type="text/css" media="screen" href="/luci-static/openwrt.org/ie8.css" /><![endif]-->
		<script type="text/javascript" src="thiago-VirtualBox%20-%20GMTP%20-%20LuCI_arquivos/xhr.js"></script>

		<link rel="stylesheet" type="text/css" href="extjs4/resources/css/ext-all.css" />
		<script type="text/javascript" src="extjs4/ext-all-debug-w-comments.js"></script>
		<script type="text/javascript" src="util/_Constantes.js"></script>
		<script type="text/javascript" src="util/FormItemTextoSimplesTempo.js"></script>
		<script type="text/javascript" src="util/InputTextMask.js"></script>

		<title>thiago-VirtualBox - GMTP - LuCI</title>
	</head>
	<body class="lang_pt">

		<p class="skiplink">
			<span id="skiplink1"><a href="#navigation">Skip to navigation</a></span>
			<span id="skiplink2"><a href="#content">Skip to content</a></span>
		</p>

		<div id="menubar">
			<h2 class="navigation"><a id="navigation" name="navigation">Navigation</a></h2>

			<div class="hostinfo">
				thiago-VirtualBox | SDK |
				Load: 1.90 1.09 0.60
				<span id="xhr_poll_status" style="display:none" onclick="XHR.running() ? XHR.halt() : XHR.run()"> | Auto Refresh: <span id="xhr_poll_status_on">on</span> <span id="xhr_poll_status_off" style="display:none">off</span> </span>
			</div>

			<ul id="modemenu">

				<li>
					<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/freifunk/">Freifunk</a>
				</li>

				<li>
					<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/failsafe/">Fail-safe</a>
				</li>

				<li>
					<a class="active" href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/">Administration</a>
				</li>

				<li>
					<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/niu/">NIU</a>
				</li>

				<li>
					<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/mini/">Essentials</a>
				</li>

			</ul>

			<div id="savemenu">

				<a class="warning" href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/uci/changes/?redir=%2fcgi-bin%2fluci%2f%3bstok%3d54071184cafb0e13100824e301b0f0fa%2fadmin%2fgmtpmodule">Unsaved Changes: 3</a>
			</div>

			<div class="clear"></div>
		</div>

		<div id="maincontainer">
			<div id="tabmenu">

				<div class="tabmenu1">
					<ul class="tabmenu l1">

						<li class="tabmenu-item-freifunk">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/freifunk/">Freifunk</a>
						</li>

						<li class="tabmenu-item-status">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/status/">Status</a>
						</li>

						<li class="tabmenu-item-gmtpmodule active">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/gmtpmodule/">GMTP</a>
						</li>

						<li class="tabmenu-item-system">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/system/">System</a>
						</li>

						<li class="tabmenu-item-services">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/services/">Services</a>
						</li>

						<li class="tabmenu-item-network">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/network/">Network</a>
						</li>

						<li class="tabmenu-item-statistics">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/statistics/">Statistics</a>
						</li>

						<li class="tabmenu-item-logout">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/logout/">Logout</a>
						</li>

						<li class="tabmenu-item-voice">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/voice/">Voice</a>
						</li>

						<li class="tabmenu-item-asterisk">
							<a href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/asterisk/">Asterisk</a>
						</li>

					</ul>
					<br style="clear:both" />

				</div>

			</div>

			<div id="maincontent">
				<noscript>
					<div class="errorbox">
						<strong>Java Script required!</strong>
						<br />
						You must enable Java Script in your browser or LuCI will not work properly.
					</div>
				</noscript>

				<form method="post" name="cbi" action="/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/gmtpmodule" enctype="multipart/form-data" onreset="return cbi_validate_reset(this)" onsubmit="return cbi_validate_form(this, 'Some fields are invalid, cannot save values!')">
					<div>
						<script type="text/javascript" src="thiago-VirtualBox%20-%20GMTP%20-%20LuCI_arquivos/cbi.js"></script>
						<input type="hidden" name="cbi.submit" value="1" />
						<input type="submit" value="Save" class="hidden" />
					</div>
					<div class="cbi-map" id="cbi-network">
						<h2><a id="content" name="content">GMTP</a></h2>
						<div class="cbi-map-descr">
							Global Media Transport Protocol
						</div>
						<!-- /nsection -->
						<fieldset class="cbi-section" id="cbi-network-gmtpcdn">
							<legend>
								General Settings
							</legend>
							<div class="cbi-section-descr"></div>
							<!-- <div class="cbi-section-remove right">
								<input type="submit" name="cbi.rts.network.cfg0692f2" onclick="this.form.cbi_state='del-section'; return true" value="Delete" class="cbi-button" />
							</div> -->

							<ul class="cbi-tabmenu">
								<script type="text/javascript">
									cbi_c['container.network.cfg0692f2.tabcdn'] = 3;
								</script>
								<li id="tab.network.cfg0692f2.tabcdn" class="cbi-tab">
									<a onclick="this.blur(); return cbi_t_switch('network.cfg0692f2', 'tabcdn')" href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/gmtpmodule?tab.network.cfg0692f2=tabcdn">CDN</a>
									<input type="hidden" id="tab.network.cfg0692f2" name="tab.network.cfg0692f2" value="tabcdn" />
								</li>

								<script type="text/javascript">
									cbi_c['container.network.cfg0692f2.tabbandwidth'] = 2;
								</script>
								<li id="tab.network.cfg0692f2.tabbandwidth" class="cbi-tab-disabled">
									<a onclick="this.blur(); return cbi_t_switch('network.cfg0692f2', 'tabbandwidth')" href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/gmtpmodule?tab.network.cfg0692f2=tabbandwidth">Bandwidth</a>

								</li>

								<script type="text/javascript">
									cbi_c['container.network.cfg0692f2.tabp2p'] = 1;
								</script>
								<li id="tab.network.cfg0692f2.tabp2p" class="cbi-tab-disabled">
									<a onclick="this.blur(); return cbi_t_switch('network.cfg0692f2', 'tabp2p')" href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/gmtpmodule?tab.network.cfg0692f2=tabp2p">P2P</a>

								</li>

								<script type="text/javascript">
									cbi_c['container.network.cfg0692f2.tabstats'] = 1;
								</script>
								<li id="tab.network.cfg0692f2.tabstats" class="cbi-tab-disabled">
									<a onclick="this.blur(); return cbi_t_switch('network.cfg0692f2', 'tabstats')" href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/gmtpmodule?tab.network.cfg0692f2=tabstats">Statistics</a>

								</li>

								<script type="text/javascript">
									cbi_c['container.network.cfg0692f2.tabincentive'] = 1;
								</script>
								<li id="tab.network.cfg0692f2.tabincentive" class="cbi-tab-disabled">
									<a onclick="this.blur(); return cbi_t_switch('network.cfg0692f2', 'tabincentive')" href="http://localhost:8080/cgi-bin/luci/;stok=54071184cafb0e13100824e301b0f0fa/admin/gmtpmodule?tab.network.cfg0692f2=tabincentive">Incentive</a>

								</li>
							</ul>

							<fieldset class="cbi-section-node cbi-section-node-tabbed" id="cbi-network-cfg0692f2">

								<div class="cbi-tabcontainer" id="container.network.cfg0692f2.tabcdn">

									<div class="cbi-value" id="cbi-network-cfg0692f2-selectcdn">
										<label class="cbi-value-title" for="cbid.network.cfg0692f2.selectcdn">CDN</label>
										<div class="cbi-value-field">

											<select class="cbi-input-select" onchange="cbi_d_update(this.id)" id="cbid.network.cfg0692f2.selectcdn" name="cbid.network.cfg0692f2.selectcdn" size="1">
												<option id="cbi-network-cfg0692f2-selectcdn-GMTP" value="GMTP" selected="selected">GMTP</option><option id="cbi-network-cfg0692f2-selectcdn-Google" value="Google">Google</option><option id="cbi-network-cfg0692f2-selectcdn-Netflix" value="Netflix">Netflix</option><option id="cbi-network-cfg0692f2-selectcdn-CoolStream" value="CoolStream">CoolStream</option>
											</select>

											<br />
											<div class="cbi-value-description">
												<span class="cbi-value-helpicon"><img src="thiago-VirtualBox%20-%20GMTP%20-%20LuCI_arquivos/help.gif" alt="help" /></span>
												Select your current CDN
											</div>
										</div>
									</div>

									<div class="cbi-value" id="cbi-network-cfg0692f2-user">
										<label class="cbi-value-title" for="cbid.network.cfg0692f2.user">Username</label>
										<div class="cbi-value-field">

											<input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.network.cfg0692f2.user" id="cbid.network.cfg0692f2.user" />

											<br />
											<div class="cbi-value-description">
												<span class="cbi-value-helpicon"><img src="thiago-VirtualBox%20-%20GMTP%20-%20LuCI_arquivos/help.gif" alt="help" /></span>
												Insert your username
											</div>
										</div>
									</div>

									<div class="cbi-value cbi-value-last" id="cbi-network-cfg0692f2-pass">
										<label class="cbi-value-title" for="cbid.network.cfg0692f2.pass">Password</label>
										<div class="cbi-value-field">

											<input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.network.cfg0692f2.pass" id="cbid.network.cfg0692f2.pass" />

											<br />
											<div class="cbi-value-description">
												<span class="cbi-value-helpicon"><img src="thiago-VirtualBox%20-%20GMTP%20-%20LuCI_arquivos/help.gif" alt="help" /></span>
												Insert your password
											</div>
										</div>
									</div>

								</div>
								<script type="text/javascript">
									cbi_t_add('network.cfg0692f2', 'tabcdn')
								</script>

								<div class="cbi-tabcontainer" id="container.network.cfg0692f2.tabp2p" style="display:none">

									<!-- <div class="cbi-value cbi-value-last" id="cbi-network-cfg0692f2-p2p"> -->
									<div id="div-extjs" style="height: 300px;"></div>
									<!-- <label class="cbi-value-title" for="cbid.network.cfg0692f2.p2p">Dummy Data</label>
									<div class="cbi-value-field">

									<input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.network.cfg0692f2.p2p" id="cbid.network.cfg0692f2.p2p" />

									</div> -->
									<!-- </div> -->

								</div>
								<script type="text/javascript">
									cbi_t_add('network.cfg0692f2', 'tabp2p')
								</script>

								<div class="cbi-tabcontainer" id="container.network.cfg0692f2.tabincentive" style="display:none">

									<!-- <div class="cbi-value cbi-value-last" id="cbi-network-cfg0692f2-incentive">
										<label class="cbi-value-title" for="cbid.network.cfg0692f2.incentive">Dummy Data</label>
										<div class="cbi-value-field">

											<input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.network.cfg0692f2.incentive" id="cbid.network.cfg0692f2.incentive" />

										</div>
									</div> -->
								</div>
								<script type="text/javascript">
									cbi_t_add('network.cfg0692f2', 'tabincentive')
								</script>

								<div class="cbi-tabcontainer" id="container.network.cfg0692f2.tabbandwidth" style="display:none">

									<div class="cbi-value" id="cbi-network-cfg0692f2-download">
										<label class="cbi-value-title" for="cbid.network.cfg0692f2.download">Downloads (Kbps)</label>
										<div class="cbi-value-field">

											<input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.network.cfg0692f2.download" id="cbid.network.cfg0692f2.download" value="900" />

											<br />
											<div class="cbi-value-description">
												<span class="cbi-value-helpicon"><img src="thiago-VirtualBox%20-%20GMTP%20-%20LuCI_arquivos/help.gif" alt="help" /></span>
												Insert the download rate that will be used
											</div>
										</div>
									</div>

									<div class="cbi-value cbi-value-last" id="cbi-network-cfg0692f2-upload">
										<label class="cbi-value-title" for="cbid.network.cfg0692f2.upload">Upload (Kbps)</label>
										<div class="cbi-value-field">

											<input type="text" class="cbi-input-text" onchange="cbi_d_update(this.id)" name="cbid.network.cfg0692f2.upload" id="cbid.network.cfg0692f2.upload" value="300" />

											<br />
											<div class="cbi-value-description">
												<span class="cbi-value-helpicon"><img src="thiago-VirtualBox%20-%20GMTP%20-%20LuCI_arquivos/help.gif" alt="help" /></span>
												Insert the upload rate that will be used
											</div>
										</div>
									</div>

								</div>
								<script type="text/javascript">
									cbi_t_add('network.cfg0692f2', 'tabbandwidth')
								</script>

								<div class="cbi-tabcontainer" id="container.network.cfg0692f2.tabstats" style="display:none">

									<!-- <div class="cbi-value cbi-value-last" id="cbi-network-cfg0692f2-stats">
										<label class="cbi-value-title" for="cbid.network.cfg0692f2.stats">Dummy Data</label>
										<div class="cbi-value-field">

											<input type="text"
											class="cbi-input-text"
											onchange="cbi_d_update(this.id)"
											name="cbid.network.cfg0692f2.stats"
											id="cbid.network.cfg0692f2.stats" />
										</div>
									</div>

									<div class="cbi-value cbi-value-last" id="cbi-network-cfg0692f2-stats2">
										<label class="cbi-value-title" for="cbid.network.cfg0692f2.stats">Dummy Data</label>
										<div class="cbi-value-field">
											<input type="text"
											class="cbi-input-text"
											onchange="cbi_d_update(this.id)"
											name="cbid.network.cfg0692f2.stats"
											id="cbid.network.cfg0692f2.stats" />
										</div>
									</div> -->

								</div>

								<script type="text/javascript">
									cbi_t_add('network.cfg0692f2', 'tabstats')
								</script>

							</fieldset>
							<br />

							<div class="cbi-section-create">
								<!-- <input type="submit" class="cbi-button cbi-button-add" name="cbi.cts.network.gmtpcdn.cfg0692f2" value="Add" /> -->
							</div>
						</fieldset>
						<br />
					</div>
					<div class="cbi-page-actions">

						<!-- <input type="submit" class="cbi-button cbi-button-apply" name="cbi.apply" value="Save &amp; Apply" />

						<input type="submit" class="cbi-button cbi-button-save" value="Save" />

						<input type="reset" class="cbi-button cbi-button-reset" value="Reset" />

						<script type="text/javascript">
							cbi_d_update();
						</script> -->					</div>
				</form>
				<div class="clear"></div>
			</div>
		</div>

		<p class="luci">
			Powered by LuCI (SVN)
		</p>

		<script type="text/javascript" charset="utf-8">
			Ext.Loader.setConfig({
				enabled : true
			});

			Ext.onReady(function() {

				console.log('@@@@@ EXT FUNCIONANDO!!!!');

				var container = Ext.widget('container', {
					renderTo : 'div-extjs',
					//height : 600,
					padding : '10 10 10 10'
				});

				var fieldForms = Ext.widget('fieldset', {
					title : 'Sharing Periods',
					//height : 300,
					//width: '100%',
					padding : '10 10 10 10',
					layout : 'hbox'
				});

				var fieldForm = Ext.widget('fieldset', {
					title : 'Add New Sharing Period',
					padding : '10 10 10 10',
					width : 200,
					height : '100%',
					layout : 'anchor',
					defaults : {
						width : 170
						//flex: 1
						//width: 150
					}
				});

				// Create the combo box, attached to the states data store
				var combo = Ext.widget('combo', {
					fieldLabel : 'Starting Date',
					store : {
						fields : ['day', 'name'],
						data : [{
							"day" : "SUNDAY",
							"name" : "SUNDAY"
						}, {
							"day" : "MONDAY",
							"name" : "MONDAY"
						}, {
							"day" : "TUERSDAY",
							"name" : "TUERSDAY"
						}, {
							"day" : "WEDNESDAY",
							"name" : "WEDNESDAY"
						}, {
							"day" : "THURSDAY",
							"name" : "THURSDAY"
						}, {
							"day" : "FRIDAY",
							"name" : "FRIDAY"
						}, {
							"day" : "SATURDAY",
							"name" : "SATURDAY"
						}]
					},
					displayField : 'name',
					valueField : 'day',
					labelAlign : 'top',
					editable : false,
					emptyText : "Select Date",
					hideTrigger : true
				});
				
				/*
				var hora = Ext.widget(Constantes.FORMITEM_TEXTO_SIMPLES_TEMPO, {
					atributo : {
						item : {
							descricao : "Starting Time",
							obrigatorio : false,
							info : "Insert time",
							nome : "data"
						}
					},
					//height: 20,
					labelAlign : 'top'
				});
				*/

				// Create the combo box, attached to the states data store
				var comboFinal = Ext.widget('combo', {
					fieldLabel : 'Ending Date',
					store : {
						fields : ['day', 'name'],
						data : [{
							"day" : "SUNDAY",
							"name" : "SUNDAY"
						}, {
							"day" : "MONDAY",
							"name" : "MONDAY"
						}, {
							"day" : "TUERSDAY",
							"name" : "TUERSDAY"
						}, {
							"day" : "WEDNESDAY",
							"name" : "WEDNESDAY"
						}, {
							"day" : "THURSDAY",
							"name" : "THURSDAY"
						}, {
							"day" : "FRIDAY",
							"name" : "FRIDAY"
						}, {
							"day" : "SATURDAY",
							"name" : "SATURDAY"
						}]
					},
					displayField : 'name',
					valueField : 'day',
					labelAlign : 'top',
					editable : false,
					emptyText : "Select Date",
					hideTrigger : true
					//hideLabel: true,
					//width: 50
				});

				var botaoAdd = Ext.widget('button', {
					text : 'Add',
					handler : function() {
						console.log('Botao Clicado');
						console.log(combo.getValue());
						//console.log(hora.getValor());
						console.log(comboFinal.getValue());
						//console.log(horaFinal.getValor());
						
						
						
						grid.getStore().add({
							startDate: combo.getValue(),
							startTime: fieldForm.getComponent('startTime').getRawValue(),
							endDate: comboFinal.getValue(),
							endTime: fieldForm.getComponent('endTime').getRawValue(),
						});
					}
				});

				var grid = Ext.create('Ext.grid.Panel', {
					title : 'Added Sharing Periods',
					store : {
						fields : [{
							name : 'descricao',
							convert : function(v, record) {
								var obj = record.data;
								console.log(record);
								var string = "From " + obj.startDate + " " + obj.startTime + " to " + obj.endDate + " " + obj.endTime;
								return string;
							}
						}]
					},
					columns : [{
						text : 'Description',
						dataIndex : 'descricao',
						flex : 1,
						sortable : false
					}, {
						xtype : 'actioncolumn',
						width : 25,
						items : [{
							icon : 'util/delete.gif',
							tooltip : 'Remover',
							handler : function(grid, rowIndex, colIndex) {
								grid.getStore().remove(grid.getStore().getAt(rowIndex));
							}
						}]
					}],
					height : 250,
					width : 400,
					x : 210,
					renderTo : Ext.getBody()
				});

				fieldForm.add(combo);
				
				fieldForm.add({
					itemId: 'startTime',
					xtype: 'timefield',
			        fieldLabel: 'Starting Time',
			        minValue: '0:00 AM',
			        maxValue: '11:30 PM',
			        editable: false,
			        emptyText: 'Select Time',
			        increment: 30,
			        anchor: '100%',
			        labelAlign : 'top',
			        hideTrigger: true
			    });
			    
				fieldForm.add(comboFinal);
				
				fieldForm.add({
					itemId: 'endTime',
					xtype: 'timefield',
			        fieldLabel: 'Ending Time',
			        minValue: '0:00 AM',
			        maxValue: '11:30 PM',
			        editable: false,
			        emptyText: 'Select Time',
			        increment: 30,
			        anchor: '100%',
			        labelAlign : 'top',
			        hideTrigger: true
			    });
			    
				fieldForm.add(botaoAdd);

				//field.add(fieldForm);
				fieldForms.add(grid);
				fieldForms.add(fieldForm);

				container.add(fieldForms);
			});

		</script>

	</body>
</html>